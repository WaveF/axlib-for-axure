{"version":3,"file":"axlib-v3.min.js","sources":["../lib/main.js"],"sourcesContent":["/**\n * \n * AxLib\n * \n * Author: WaveF\n * QQ: 298010937\n * \n * UPDATE:\n * \n * -v3.4.3\n * - 改为使用vitejs构建\n * - 修正了rows未定义的问题\n * \n **/\n\n(function(){\n\n  main();\n\n  function main() {\n    if (!window.$axure || !window.jQuery) {\n      console.log('请先加载 $axure 和 jquery!');\n      return;\n    }\n\n    initYepNope();\n    utils();\n    InitAxlib();\n\n    window.jsonbin = getJsonBinClass;\n    window.getEl = getEl;\n    window.AXLIB = window.axlib = {\n      name: 'axlib',\n      version: '3.4.3',\n\n      use, // 加载其他模块\n      layout, // 预设的界面元素显隐及缩放\n      trace, // 显示一段预设样式的文本\n      jsonbin: getJsonBinClass(), // 调用jsonbin v3的方法在线读写数据\n      hosting, // 参数定义同步到哪里，默认是axhub\n      loading, // 插入一个加载动画\n      find, // 便捷提取指定元件名的对象，示例：let els = axlib.find('sym1', 'sym2'...); let { sym1, sym2 } = els;\n      saveTextFile, // 传入字符串与文件名保存文件\n      testExp, // 等待测试表达式的方法\n      loadJsModule, // 以 es module 方式加载 js\n      getEl, // 通过元件名获取元素\n      \n      plugins: getPlugins(),\n      formatRepeaterData: $axure.ex.formatRepeaterData,\n      setGlobalVar: $axure.setGlobalVariable,\n      getGlobalVar: $axure.getGlobalVariable,\n      getOverlapData: $axure.getOverlapData,\n      getDiffData: $axure.getDiffData,\n    };\n  }\n\n  function InitAxlib() {\n    $axure.ex = { fn: {} };\n\n    // _showMsg = new Function( 'return ' + top.$axure.messageCenter.dispatchMessageRecursively.toString() );\n\n    $axure.getEl = (...args) => {\n      let arr = [];\n      args.forEach(name => {\n        arr.push($axure(`@${name}`));\n      });\n      const result = arr.length === 1 ? arr[0] : arr;\n      return result;\n    };\n\n    // 改写并拓展Axure的私有对象\n    $axure.internal(function ($ax) {\n\n      /**\n       * 增强中继器相关方法\n       * 注：仅支持单个操作，要确保每个元素都有不同ID，就可以用循环逐个修改\n       */\n\n      // 刷新数据（要定义在最前面，因为后面会引用到）\n      $axure.ex.refreshRepeater = $ax.repeater.refreshRepeater;\n      $ax.public.fn.refreshRepeater = function () {\n        let elementId = this.getElementIds()[0];\n        $axure.ex.refreshRepeater(elementId);\n        return this;\n      };\n      $ax.repeater.refreshRepeater = function(elementId, etc) {\n        $axure.ex.refreshRepeater(...arguments);\n        $(`#${elementId}`).trigger('REPEATER_REFRESH');\n      };\n\n      // 好像是获取行号，从1开始索引，因为后面要用到所以保留\n      $axure.ex.getRepeaterRows = $ax.repeater.getAllItemIds;\n      $ax.public.fn.getRepeaterRows = function () {\n        return $axure.ex.getRepeaterRows(this.getElementIds()[0]);\n      };\n\n      // 通过ID获取实例\n      $axure.ex.getRepeater = function (elementId) {\n        let repeater;\n        $axure(function (obj) {\n          return obj.type == 'repeater';\n        }).each(function (obj, id) {\n          if (id == elementId) {\n            repeater = obj;\n          }\n        });\n        return repeater;\n      };\n\n      // 格式化数据\n      $axure.ex.formatRepeaterData = function(data, options) {\n        // 根据 options 参数对数据进行格式化\n        options = options || { format:'auto', key:undefined, trim:undefined };\n\n        let trim = options.trim;\n        let format = options['format'].toLowerCase();\n        let newData;\n\n        // 自动模式，以\"键:值\"配对形式返回数据\n        if (format === 'default') {\n          newData = data;\n        } else if (format === 'auto') {\n          let arr = [];\n          for (let i = 0; i < data.length; i++) {\n            let item = data[i];\n            let obj = {};\n            for (let k in item) {\n              obj[k] = item[k].text;\n            }\n            arr.push(obj);\n          }\n          newData = arr;\n        }\n        \n        // 行模式，横向获取数据，支持trim获取第1位数据\n        else if (format === 'row') {\n          let result = {};\n          for (let i = 0; i < data.length; i++) {\n            let item = data[i];\n            let obj = {};\n            let key = Object.values(item)[0].text;\n            let val = [];\n            for (let k in item) {\n              let sub = item[k];\n              if (sub.text != key) {\n                val.push(sub.text);\n              }\n            }\n\n            if (trim === undefined) { trim = false; }\n            if (trim) { val = val[0]; }\n            obj[key] = val;\n            $.extend(result, obj);\n          }\n          newData = result;\n        }\n        \n        // 列模式，纵向获取数据\n        else if (format === 'column' || format === 'col') {\n          let obj = {};\n          for (let i = 0; i < data.length; i++) {\n            let item = data[i];\n            for (k in item) {\n              if (!obj[k]) {\n                obj[k] = [item[k].text];\n              } else {\n                obj[k].push(item[k].text);\n              }\n            }\n          }\n          newData = obj;\n        }\n        \n        // 键模式，以某个键值来获取数据\n        else if (format === 'key') {\n          if (!options.key) {\n            console.log('未提供Key名，将不会进行格式化...');\n            newData = data;\n          } else {\n            let result = {};\n            let pKey = options.key;\n            for (let i = 0; i < data.length; i++) {\n              let item = data[i];\n              let key = item[pKey].text;\n              let val = [];\n              let obj = {};\n              for (let k in item) {\n                if (k != pKey) {\n                  val.push(item[k].text);\n                }\n              }\n              if (options.first) { val = val[0]; }\n              obj[key] = val;\n              $.extend(result, obj);\n            }\n            newData = result;\n          }\n        }\n\n        // 树模式，适合用来做树形菜单，支持trim清理空数据\n        else if (format === 'tree') {\n          let arr = [];\n          for (let i = 0; i < data.length; i++) {\n            let item = data[i];\n            let obj = {};\n            for (let k in item) { obj[k] = item[k].text; }\n            arr.push(obj);\n          }\n          newData = tree(arr);\n          if (trim === undefined) { trim = true; }\n          options.trim && trimTreeData(newData);\n        } else {\n          trace(`未注册的格式化参数: ${format}，请使用此定义 { format: 'auto' || 'row' || 'column' || 'tree' || 'key' } ，其中 key 模式需额外提供索引键列名称.`);\n          newData = data;\n        }\n        return newData;\n      }\n      $axure.formatRepeaterData = $axure.ex.formatRepeaterData;\n\n      // 获取数据\n      $axure.ex.getRepeaterData = function (elementId) {\n        let ids = $ax.repeater.getAllItemIds(elementId);\n        let columns = $axure.ex.getRepeater(elementId).dataProps;\n        let rows = [];\n        for (let i = 0, il = ids.length; i < il; i++) {\n          let row = {};\n          for (let j = 0, jl = columns.length; j < jl; j++) {\n            let name = columns[j].toLowerCase();\n            let id = ids[i];\n            if ((typeof (id) == 'string') && (id.indexOf('-') != -1))\n              id = $ax.repeater.getItemIdFromElementId(id);\n            let value = $ax.repeater.getData({}, elementId, ids[i], name, 'data');\n            if (typeof (value) == 'object') {\n              value = $ax.deepCopy(value);\n              if (value.type === undefined) {\n                value.type = 'text';\n              }\n              row[name] = value;\n            } else {\n              row[name] = {\n                type: 'text',\n                text: value\n              };\n            }\n          }\n          rows.push(row);\n        }\n        return rows;\n      };\n      $ax.public.fn.getRepeaterData = function (options) {\n        let elementId = this.getElementIds()[0];\n        let data = $axure.ex.getRepeaterData(elementId);\n        data = $axure.ex.formatRepeaterData(data, options);\n        return data;\n      };\n\n      // 获取初始化数据\n      $axure.ex.getRepeaterDataOnce = function (elementId) {\n        try {\n          var result;\n          // $axure(`#${id}`).refreshRepeater();\n          return window.$axure((function (elementId) {\n              return \"repeater\" === elementId.type\n          })).each((function (obj, id) {\n            elementId === id && (result = obj)\n          })), result.data;\n        } catch (err) {\n            return console.error(\"Error：Can not get repeater data by id \" + err);\n        }\n      };\n      $ax.public.fn.getRepeaterDataOnce = function (options) {\n        let elementId = this.getElementIds()[0];\n        let data = $axure.ex.getRepeaterDataOnce(elementId);\n        data = $axure.ex.formatRepeaterData(data, options);\n        return data;\n      };\n      $axure.ex.getRepeaterInitedData = $axure.ex.getRepeaterDataOnce;\n      $ax.public.fn.getRepeaterInitedData = $ax.public.fn.getRepeaterDataOnce;\n\n      // 获取初始化与交互追加后的差异数据\n      $axure.ex.getRepeaterDataDiff = function (elementId) {\n        let data = $axure.ex.getRepeaterData(elementId);\n        let dataOnce = $axure.ex.getRepeaterDataOnce(elementId);\n        data.splice(0, dataOnce.length);\n        return data;\n      };\n      $ax.public.fn.getRepeaterDataDiff = function (options) {\n        let elementId = this.getElementIds()[0];\n        let diff = $axure.ex.getRepeaterDataDiff(elementId);\n        return $axure.ex.formatRepeaterData(diff, options);\n      };\n\n      // 获取初始化与交互追加后的差异数据\n      $axure.ex.getRepeaterDataSame = function (elementId) {\n        let data = $axure.ex.getRepeaterData(elementId);\n        let dataOnce = $axure.ex.getRepeaterDataOnce(elementId);\n        data.splice(dataOnce.length, data.length);\n        return data;\n      };\n      $ax.public.fn.getRepeaterDataSame = function (options) {\n        let elementId = this.getElementIds()[0];\n        let diff = $axure.ex.getRepeaterDataSame(elementId);\n        return $axure.ex.formatRepeaterData(diff, options);\n      };\n\n      // 追加数据\n      $axure.ex.repeaterAddItem = $ax.repeater.addItem;\n      $axure.ex.addRepeaterData = function (elementId, rows) {\n        let event = { targetElement: undefined, srcElement: undefined };\n        let repeater = $axure.ex.getRepeater(elementId);\n        let columns = repeater.dataProps;\n        let itemDefaultValue = { type: 'text', text: '' };\n\n        for (let i = 0, ilen = rows.length; i < ilen; i++) {\n          let source = rows[i];\n          let target = {};\n          for (let j = 0, jlen = columns.length; j < jlen; j++) {\n            let column = columns[j];\n            let item = source[column];\n\n            if (item === undefined) {\n              item = itemDefaultValue;\n            } else if (!item.hasOwnProperty('type') && !item.hasOwnProperty('text')) {\n              item = { type: 'text', text: item };\n            } else {\n              item = $ax.deepCopy(item);\n            }\n            target[column] = item;\n          }\n          $ax.repeater.addItem(elementId, target, event);\n        }\n      };\n      $ax.public.fn.addRepeaterData = function (rows) {\n        let elementId = this.getElementIds()[0];\n        $axure.ex.addRepeaterData(elementId, rows);\n        $axure.ex.refreshRepeater(elementId);\n        return this;\n      };\n      // 这里会触发原生交互的添加数据\n      $ax.repeater.addItem = function() {\n        let elementId = arguments[0];\n        $axure.ex.repeaterAddItem(...arguments);\n        $(`#${elementId}`).trigger('REPEATER_DATA_ADDED', {...arguments});\n      };\n\n\n      // 移除N行数据\n      $axure.ex.deleteItems = $ax.repeater.deleteItems;\n      $ax.public.fn.deleteRepeaterData = function (rowsCount) {\n        rowsCount = rowsCount || 1;\n        let data = this.getRepeaterData();\n        let newData = data.slice(0, data.length - rowsCount);\n        let elementId = this.getElementIds()[0];\n        $axure.ex.clearRepeaterData(elementId);\n        $axure.ex.addRepeaterData(elementId, newData);\n        $axure.ex.refreshRepeater(elementId);\n        return this;\n      };\n      // 这里会触发原生交互的删除数据\n      $ax.repeater.deleteItems = function() {\n        let elementId = arguments[0];\n        $axure.ex.deleteItems(...arguments);\n        $(`#${elementId}`).trigger('REPEATER_DATA_DELETED', {...arguments});\n      }\n\n\n      // PUSH数据（意义不明）\n      $axure.ex.pushItems = $ax.repeater.pushItems;\n      $ax.repeater.pushItems = function() {\n        let elementId = arguments[0];\n        $axure.ex.pushItems(...arguments);\n        $(`#${elementId}`).trigger('REPEATER_DATA_PUSH', {...arguments});\n      }\n      \n      \n      // 更新数据\n      $axure.ex.updateEditItems = $ax.repeater.updateEditItems;\n      $ax.repeater.updateEditItems = function() {\n        let elementId = arguments[0];\n        $axure.ex.updateEditItems(...arguments);\n        $(`#${elementId}`).trigger('REPEATER_DATA_UPDATED', {...arguments});\n      }\n\n\n      // 获取重叠部分数据\n      $ax.public.fn.getOverlapData = function (extraRawData, format) {\n        let elementId = this.getElementIds()[0];\n        let rep = $axure(`#${elementId}`);\n        let latestRawData = rep.getRepeaterData({format:'default'});\n        let overlapData = getOverlapData(extraRawData, latestRawData);\n        return $axure.ex.formatRepeaterData(overlapData, format);;\n      };\n\n      \n\n      // 设置数据\n      $ax.public.fn.setRepeaterData = function (rows) {\n        let elementId = this.getElementIds()[0];\n        $axure.ex.clearRepeaterData(elementId);\n        $axure.ex.addRepeaterData(elementId, rows);\n        $axure.ex.refreshRepeater(elementId);\n        $(`#${elementId}`).trigger('REPEATER_DATA_SET', {...arguments});\n        return this;\n      };\n      \n      // 清空数据\n      $axure.ex.clearRepeaterData = function (elementId) {\n        let ids = $axure.ex.getRepeaterRows(elementId);\n        $ax.repeater.addEditItems(elementId, ids);\n        $ax.repeater.deleteItems(elementId, {}, 'marked', undefined);\n      };\n      $ax.public.fn.clearRepeaterData = function () {\n        let elementId = this.getElementIds()[0];\n        $axure.ex.clearRepeaterData(elementId);\n        $axure.ex.refreshRepeater(elementId);\n        return this;\n      };\n\n\n      /**\n       * 增强动态面板相关方法\n       * 注：仅支持单个操作，要确保每个元素都有不同ID，就可以用循环逐个修改\n       */\n\n      // 增强动态面板相关方法\n      $axure.ex.getPanelStates = function (elementId) {\n        let result = [];\n        for (let index = 1;; index++) {\n          let element = $('#' + elementId + '_state' + (index - 1));\n          if (!element.length) break;\n          let name = element.attr('data-label');\n          result[index] = name;\n          result[name] = index;\n        }\n        return result;\n      };\n      $ax.public.fn.getPanelStates = function () {\n        let states = $axure.ex.getPanelStates(this.getElementIds()[0]);\n        return states;\n      };\n\n\n      $axure.ex.getCurrentPanelState = function (elementId) {\n        let current;\n        let states = $(`#${elementId}`).children(`.panel_state`);\n        $.each(states, (idx, item) => {\n          if ($(item).css('visibility')!='hidden' && $(item).css('display')!='none') {\n            current = item;\n          }\n        });\n        return current;\n      };\n      $ax.public.fn.getCurrentPanelState = function () {\n        let current = $axure.ex.getCurrentPanelState(this.getElementIds()[0]);\n        return current;\n      };\n\n\n      $axure.ex.setPanelStateByName = function (elementId, stateName, options, showWhenSet) {\n        let states = $axure.ex.getPanelStates(elementId);\n        for (let k = 0; k < states.length; k++) {\n          if (states[k] == stateName) {\n            let stateNum = k;\n            $axure('#' + elementId).SetPanelState(stateNum, options || {}, showWhenSet || false);\n          }\n        }\n      };\n      $ax.public.fn.setPanelStateByName = function (stateName, options, showWhenSet) {\n        let elementId = this.getElementIds()[0];\n        $axure.ex.setPanelStateByName(elementId, stateName, options, showWhenSet);\n        return this;\n      };\n      $ax.public.fn.setPanelStateByIndex = function (index, options, showWhenSet) {\n        let elementId = this.getElementIds()[0];\n        $axure('#' + elementId).SetPanelState(index, options || {}, showWhenSet || false);\n        return this;\n      };\n\n\n      /**\n       * 简化获取ID与节点的方法名\n       */\n      $ax.public.fn.getId = function () {\n        return this.getElementIds()[0];\n      };\n      $ax.public.fn.getEl = function () {\n        return this.getElements()[0];\n      };\n      $axure.find = find;\n\n\n      /**\n       * 修正axure无法获取全局变量的bug\n       */\n      $ax.public.getGlobalVariable = $ax.getGlobalVariable = function (name) {\n        return $ax.globalVariableProvider.getVariableValue(name);\n      };\n\n\n      /**\n       * 添加一些常用样式控制\n       */\n      $ax.public.fn.buttonMode = function (flag) {\n        this.$().css('cursor', flag ? 'pointer' : 'default');\n      };\n      $ax.public.fn.ghostMode = function (flag) {\n        this.$().css('pointer-events', flag ? 'none' : 'auto');\n      };\n\n      \n      /**\n       * 跳转页面或链接\n       */\n      \n      // 设置页面跳转前的Hook\n      // 注：页面载入时没有hook，如果要做载入前的转场动画需要自行处理，因为axlib开始执行的时间始终慢于页面渲染时\n      $axure.ex.redirect = true;\n      $axure.ex.beforeNavFn = function () {};\n      $axure.beforeNav = function (callback) {\n        $axure.ex.beforeNavFn = callback;\n      };\n\n      // 先缓存原本的跳转方法\n      $axure.ex.navigate = $ax.public.navigate;\n\n      // 改写内置的跳转函数\n      $ax.public.navigate = $ax.navigate = function(options) {\n        let stop = flag => { if (flag===undefined) { flag = true; } $axure.ex.redirect = !flag; };\n        $axure.ex.beforeNavFn(options,stop);\n        \n        if (!$axure.ex.redirect) return;\n        $axure.ex.navigate(options);\n      };\n\n      $axure.getOverlapData = getOverlapData;\n      $axure.getDiffData = getDiffData;\n\n    });\n\n  }\n\n  function getNestedValue(obj, key) {\n    return key.split(\".\").reduce(function(result, key) {\n      return result[key] \n    }, obj);\n  }\n\n  function getOverlapData(data1, data2) {\n    /*let arr = [JSON.stringify(data1), JSON.stringify(data2)];\n    arr.sort((a, b) => { return a.length < b.length; });\n    let str1 = arr[0], str2 = arr[1];\n    str1 = str1.substr(1,str1.length-2);\n    str2 = str2.substr(1,str2.length-2);\n    let str = str1.replace(str2, '');\n    str = str.replace(/\\},,\\{/g, '},{');\n    str = `[${str}]`;\n    return JSON.parse(str);*/\n\n    let bigData = data1.length > data2.length ? data1 : data2;\n    let smallData = data1.length < data2.length ? data1 : data2;\n    smallData.forEach((a, i) => {\n      let _a = JSON.stringify(a);\n      bigData.forEach((b, j) => {\n        let _b = JSON.stringify(b);\n        if (_a == _b) { bigData[j] = null; }\n      });\n      bigData = bigData.filter(Boolean);\n    });\n    return bigData;\n  }\n\n  function getDiffData(data1, data2) {\n    // 弃用，会误删相同的数据\n    let diff = data1.concat(data2).map(item => JSON.stringify(item)).filter((value, idx, arr)=>{\n      return arr.indexOf(value) == arr.lastIndexOf(value);\n    });\n    return JSON.parse(`[${diff}]`);\n  }\n\n  function tree(_data) {\n    let scanArr = [];\n    let scanObj = [];\n    let maxLevel = _data.length > 0 ? Object.keys(_data[0]).length : 0;\n\n    const unique = function(arr, obj) {\n      let _arr = [], _obj = [];\n      for(let i=0; i<arr.length; i++) {\n        if ( !_arr.includes( arr[i]) ) {\n          _arr.push( arr[i] );\n          _obj.push( obj[i] );\n        }\n      }\n      return [_arr, _obj];\n    };\n\n    for (let i=0; i<maxLevel; i++) {\n      let cid = `c${i+1}`;\n      let arr = [], obj = [];\n      for (let k in _data) {\n        let item = _data[k];\n        arr.push(item[cid]);\n        obj.push({value:item[cid], label:item[cid], parent:item[`c${i}`], children:[]});\n      }\n      scanArr[i] = unique(arr, obj)[0];\n      scanObj[i] = unique(arr, obj)[1];\n    }\n\n    let len = scanObj.length;\n    for (let i=0; i<len; i++) {\n      let curIdx = len-i-1;\n      let nextIdx = len-i-2;\n      let curItem = scanObj[curIdx];\n      let nextItem = scanObj[nextIdx];\n\n      for (let k in curItem) {\n        let _current = curItem[k];\n        for (let n in nextItem) {\n          let _next = nextItem[n];\n          if (_current.parent == _next.value) {\n            _next.children.push(_current);\n          }\n        }\n      }\n    }\n\n    for (let t=0; t<scanObj[0].length; t++) {\n      delete scanObj[0][t].parent;\n    }\n    \n    return scanObj[0];\n  }\n\n  function trimTreeData(arr) {\n    for (let i=0; i<arr.length; i++) {\n      let item = arr[i];\n      if (item.children.length > 0) {\n        if (item.children.length == 1 && !item.children[0].value) {\n          delete item.children;\n        } else {\n          trimTreeData(item.children);\n        }\n      } else if (item.children && item.children.length == 0) {\n        delete item.children;\n      }\n    }\n  }\n\n  function loadJsModule(url, callback) {\n    let script = document.createElement('script');\n    script.onload = callback || function(){};\n    script.setAttribute('type', 'module');\n    script.setAttribute('src', url);\n    document.querySelector('body').appendChild(script);\n  }\n\n  function testExp() {\n    console.error('axlib.testExp() 已弃用');\n  }\n\n  function saveTextFile(str, fileName) {\n    str = str || 'axlib';\n    fileName = fileName || 'text.txt';\n    const blob = new Blob([str], { type: 'application/json;charset=utf-8' });\n    const objectURL = URL.createObjectURL(blob);\n\n    const anchor = document.createElement('a');\n    anchor.href = objectURL;\n    anchor.download = fileName;\n    anchor.click();\n\n    URL.revokeObjectURL(objectURL);\n  }\n\n  function find () {\n    let args = [...arguments];\n    let obj = {};\n    for (let i = 0; i < args.length; i++) {\n      let name = args[i];\n      let el = $axure('@' + name);\n      if (el.$().length > 0) {\n        obj[name] = el;\n      }\n    }\n    return obj;\n  }\n\n  function loading(container, show, options) {\n    options = options || { color:'#fff', opacity:0.2, scale:1.2, delay:0, dur:1, blending:'difference' };\n    if (show === undefined) { show = true; }\n    let display = show ? 'block' : 'none';\n\n    let svg = `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" stroke=\"${options.color}\" style=\"transform:scale(${options.scale});\">\n        <g fill=\"none\" fill-rule=\"evenodd\">\n          <g transform=\"translate(1 1)\" stroke-width=\"2\">\n            <circle stroke-opacity=\"${options.opacity}\" cx=\"18\" cy=\"18\" r=\"18\"/>\n            <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n              <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 18 18\" to=\"360 18 18\" dur=\"${options.dur}s\" repeatCount=\"indefinite\"/>\n            </path>\n          </g>\n        </g>\n      </svg>\n    `;\n    svg = svg.minify();\n\n    if (!window.$axure.loadingCSSRulesInited) {\n      $('head').append(`\n        <style>\n          html, body { height: 100%; }\n          .ax-loading { display:${display}; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: transparent; z-index: 99999; mix-blend-mode:${options.blending}; pointer-events:none; transform: scale(.5); }\n          .ax-loading-svg { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }\n        </style>\n      `);\n      window.$axure.loadingCSSRulesInited = true;\n    }\n\n    if ($(container).children('.ax-loading').length === 0) {\n      $(container).append(`<div class=\"ax-loading\"><div class=\"ax-loading-svg\">${svg}</div></div>`);\n    }\n    return $(container).children('.ax-loading').get(0);\n  }\n\n  function hosting(cloud) {\n    cloud = cloud || 'axhub';\n    if (cloud == 'axhub') {\n      let btnUpload = $('#axhub-rp9-root a i', top.document);\n      if (btnUpload.length === 0) {\n        trace('无法同步, 你需要先为浏览器安装axhub插件!');\n      } else {\n        btnUpload.click();\n      }\n    }\n  }\n\n  function trace() {\n    console.group('%cAXLIB', 'color:#fff; font-weight:bold; background:#08f; padding:4px 8px; border-radius:3px;');\n    console.log(...arguments);\n    console.groupEnd();\n  }\n\n  function layout(mode) {\n    if (self == top) return;\n    mode = mode !== undefined ? mode : 0;\n\n    let _mode = {\n      hotspots: false,\n      notes: false,\n      scale: [0, 1, 2][1],\n      console: false,\n      sitemap: false,\n      minimal: false,\n      website: true\n    };\n\n    setTimeout(() => {\n      let shell = window.parent.document;\n      let hash = shell.location.hash;\n\n      if (mode > 0) {\n        if (hash.indexOf('&fn=0') < 0) {\n          $(shell).find('#showNotesOption').click();\n        }\n        if (hash.indexOf('&hi=1') > -1) {\n          $(shell).find('#showHotspotsOption').click();\n        }\n      }\n\n      if (mode === 0) {\n        $(shell).find('#maximizePanelContainer').show();\n        $(shell).find(`.vpScaleOption[val=\"0\"]`).click();\n      } else if (mode === 1) {\n        $(shell).find(`.vpScaleOption[val=\"0\"]`).click();\n        $(shell).find('#interfaceControlFrameMinimizeContainer').click();\n        $(shell).find('#maximizePanelContainer').hide();\n      } else if (mode === 2) {\n        $(shell).find(`.vpScaleOption[val=\"1\"]`).click();\n        $(shell).find('#interfaceControlFrameMinimizeContainer').click();\n        $(shell).find('#maximizePanelContainer').hide();\n      } else if (mode === 3) {\n        $(shell).find(`.vpScaleOption[val=\"2\"]`).click();\n        $(shell).find('#interfaceControlFrameMinimizeContainer').click();\n        $(shell).find('#maximizePanelContainer').hide();\n      }\n    }, 0);\n  }\n\n  function use() {\n    console.error('axlib.use() 已弃用');\n  }\n\n  function getJsonBinClass() {\n    class jsonbin {\n      _id = '';\n      _apiKey = '';\n      _accessKey = '';\n\n      constructor(id) {\n          this._id = id;\n      }\n\n      get id() {\n          return this._id;\n      }\n\n      set id(id) {\n          this._id = id;\n      }\n\n      get apiKey() {\n          return this._apiKey;\n      }\n\n      set apiKey(key) {\n          this._apiKey = key;\n      }\n\n      get accessKey() {\n          return this._accessKey;\n      }\n\n      set accessKey(key) {\n          this._accessKey = key;\n      }\n\n      read() {\n          const binId = this._id;\n          const binVersion = 'latest';\n\n          return fetch(`https://api.jsonbin.io/v3/b/${binId}/${binVersion}`, {\n              headers: {\n                  'Content-Type': 'application/json',\n                  'X-Access-Key': this._accessKey,\n              }\n          })\n          .then(response => response.json())\n          .catch(error => { console.error(error); });\n      }\n\n      update(data) {\n          const binId = this._id;\n\n          return fetch(`https://api.jsonbin.io/v3/b/${binId}`, {\n              method: 'PUT',\n              headers: {\n                  'Content-Type': 'application/json',\n                  // 'X-Access-Key': this._accessKey,\n              },\n              body: JSON.stringify(data)\n          })\n          .then(response => response.json())\n          .catch(error => { console.error(error); });\n      }\n\n      create(_name, _private=false) {\n          // if (this._id) {\n          //     return new Promise((resolve, reject) => {\n          //         resolve({id:this._id});\n          //     });\n          // }\n\n          const headers = {\n              'Content-Type': 'application/json',\n              'X-Bin-Private': _private,\n          };\n\n          if (this._apiKey != '') {\n              headers['X-Master-Key'] = this._apiKey;\n          }  \n\n          if (this._accessKey != '' && this._apiKey == '') {\n              headers['X-Access-Key'] = this._accessKey;\n          }        \n\n          if (_name) {\n              headers['X-Bin-Name'] = _name;\n          }\n\n          return fetch(`https://api.jsonbin.io/v3/b`, {\n              method: 'POST',\n              headers,\n              body: JSON.stringify({foo:'bar'})\n          })\n          .then(response => response.json())\n          .catch(error => { console.error(error); });\n      }\n\n      delete(binId=this._id) {\n          const headers = {};\n\n          if (this._apiKey != '') {\n              headers['X-Master-Key'] = this._apiKey;\n          }  \n\n          if (this._accessKey != '' && this._apiKey == '') {\n              headers['X-Access-Key'] = this._accessKey;\n          }\n\n          return fetch(`https://api.jsonbin.io/v3/b/${binId}`, {\n              method: 'DELETE',\n              headers,\n          })\n          .then(response => response.json())\n          .catch(error => { console.error(error); });\n      }\n    }\n\n    return jsonbin\n  }\n\n  function utils() {\n    // 增加一个将字符串去除换行符的方法\n    Object.defineProperty(String.prototype, 'minify', {\n      enumerable: false,\n      configurable: true,\n      value: function () {\n        return this.replace(/ *[\\r|\\n] */gm, '')\n      }\n    });\n\n\n    /**\n     * 拓展 JQuery\n     */\n\n    // 增加一个判断变量是否符合 JSON 格式的方法\n    $.isJSON = function (str) {\n      try {\n        if (typeof JSON.parse(str) == \"object\") {\n          return true;\n        }\n      } catch (e) {}\n      return false;\n    };\n\n    // 增加一个判断 DOM 元素是否存在 Attribute 属性的方法\n    $.fn.extend({\n      'hasAttr': name => {\n        let _attr = $(this).attr(name);\n        if (typeof _attr !== typeof undefined && _attr !== false) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    });\n\n    $.getEl = getJqEl;\n  }\n\n  function getJqEl(...args) {\n    let arr = [];\n    args.forEach(name => {\n      arr.push($(`[data-label=\"${name}\"]`));\n    });\n    const result = arr.length === 1 ? arr[0] : arr;\n    return result;\n  }\n\n  function getEl(...args) {\n    let arr = [];\n    args.forEach(name => {\n      arr.push(document.querySelector(`[data-label=\"${name}\"]`));\n    });\n    const result = arr.length === 1 ? arr[0] : arr;\n    return result;\n  }\n\n  function getPlugins() {\n    return {\n      toast: {\n        vars: '$.toast',\n        files: [\n          'https://ax.minicg.com/plugins/toast/jquery.toast.min.css',\n          'https://ax.minicg.com/plugins/toast/jquery.toast.min.js'\n        ]\n      },\n      toastify: {\n        vars: 'Toastify',\n        files: [\n          'https://ax.minicg.com/plugins/toastify/toastify-all.min.js'\n        ]\n      },\n      swal2: {\n        vars: 'Swal',\n        files: [\n          'https://ax.minicg.com/plugins/swal2/bootstrap-4.min.css',\n          'https://ax.minicg.com/plugins/swal2/sweetalert2.min.js'\n        ]\n      },\n      keepfit: {\n        vars: 'keepfit',\n        files: [\n          'https://ax.minicg.com/plugins/keepfit/keepfit.min.js'\n        ]\n      },\n      aframe: {\n        vars: 'aframe',\n        files: [\n          'https://ax.minicg.com/aframe-130.min.js',\n        ]\n      },\n      preload: {\n        vars: 'preload',\n        files: [\n          'https://ax.minicg.com/preloadjs.min.js',\n        ]\n      },\n      pico: {\n        vars: 'pico',\n        files: [\n          'https://ax.minicg.com/pico.min.css',\n        ]\n      },\n      crypto: {\n        vars: 'crypto',\n        files: [\n          'https://ax.minicg.com/crypto-js.min.js',\n        ]\n      },\n      faker: {\n        vars: 'faker',\n        files: [\n          'https://ax.minicg.com/faker.min.js',\n        ]\n      },\n      tailwind: {\n        vars: 'tailwind',\n        files: [\n          'https://ax.minicg.com/tailwind.min.css',\n          'https://ax.minicg.com/tailwindcss-jit-cdn.umd.min.js',\n        ]\n      },\n      echarts: {\n        vars: 'echarts',\n        files: [\n          'https://ax.minicg.com/echarts.min.js',\n          'https://ax.minicg.com/echarts-gl.min.js',\n        ]\n      },\n      tweakpane: {\n        vars: 'Tweakpane',\n        files: [\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-plugin-essentials.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-plugin-rotation.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-textarea-plugin.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-plugin-camerakit.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-plugin-image.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-plugin-infodump.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-plugin-profiler.min.js',\n        ]\n      },\n    }\n  }\n\n  function initYepNope () {\n    var doc = document,\n      undef,\n      docElement            = doc.documentElement,\n      sTimeout              = window.setTimeout,\n      firstScript           = doc.getElementsByTagName( \"script\" )[ 0 ],\n      toString              = {}.toString,\n      execStack             = [],\n      started               = 0,\n      noop                  = function () {},\n      // Before you get mad about browser sniffs, please read:\n      // https://github.com/Modernizr/Modernizr/wiki/Undetectables\n      // If you have a better solution, we are actively looking to solve the problem\n      isGecko               = ( \"MozAppearance\" in docElement.style ),\n      isGeckoLTE18          = isGecko && !! doc.createRange().compareNode,\n      insBeforeObj          = isGeckoLTE18 ? docElement : firstScript.parentNode,\n      // Thanks to @jdalton for showing us this opera detection (by way of @kangax) (and probably @miketaylr too, or whatever...)\n      isOpera               = window.opera && toString.call( window.opera ) == \"[object Opera]\",\n      isIE                  = !! doc.attachEvent && !isOpera,\n      strJsElem             = isGecko ? \"object\" : isIE  ? \"script\" : \"img\",\n      strCssElem            = isIE ? \"script\" : strJsElem,\n      isArray               = Array.isArray || function ( obj ) {\n        return toString.call( obj ) == \"[object Array]\";\n      },\n      isObject              = function ( obj ) {\n        return Object(obj) === obj;\n      },\n      isString              = function ( s ) {\n        return typeof s == \"string\";\n      },\n      isFunction            = function ( fn ) {\n        return toString.call( fn ) == \"[object Function]\";\n      },\n      globalFilters         = [],\n      scriptCache           = {},\n      prefixes              = {\n        // key value pair timeout options\n        timeout : function( resourceObj, prefix_parts ) {\n          if ( prefix_parts.length ) {\n            resourceObj['timeout'] = prefix_parts[ 0 ];\n          }\n          return resourceObj;\n        }\n      },\n      handler,\n      yepnope;\n\n    /* Loader helper functions */\n    function isFileReady ( readyState ) {\n      // Check to see if any of the ways a file can be ready are available as properties on the file's element\n      return ( ! readyState || readyState == \"loaded\" || readyState == \"complete\" || readyState == \"uninitialized\" );\n    }\n\n\n    // Takes a preloaded js obj (changes in different browsers) and injects it into the head\n    // in the appropriate order\n    function injectJs ( src, cb, attrs, timeout, /* internal use */ err, internal ) {\n      var script = doc.createElement( \"script\" ),\n          done, i;\n\n      timeout = timeout || yepnope['errorTimeout'];\n\n      script.src = src;\n\n      // Add our extra attributes to the script element\n      for ( i in attrs ) {\n          script.setAttribute( i, attrs[ i ] );\n      }\n\n      cb = internal ? executeStack : ( cb || noop );\n\n      // Bind to load events\n      script.onreadystatechange = script.onload = function () {\n\n        if ( ! done && isFileReady( script.readyState ) ) {\n\n          // Set done to prevent this function from being called twice.\n          done = 1;\n          cb();\n\n          // Handle memory leak in IE\n          script.onload = script.onreadystatechange = null;\n        }\n      };\n\n      // 404 Fallback\n      sTimeout(function () {\n        if ( ! done ) {\n          done = 1;\n          // Might as well pass in an error-state if we fire the 404 fallback\n          cb(1);\n        }\n      }, timeout );\n\n      // Inject script into to document\n      // or immediately callback if we know there\n      // was previously a timeout error\n      err ? script.onload() : firstScript.parentNode.insertBefore( script, firstScript );\n    }\n\n    // Takes a preloaded css obj (changes in different browsers) and injects it into the head\n    function injectCss ( href, cb, attrs, timeout, /* Internal use */ err, internal ) {\n\n      // Create stylesheet link\n      var link = doc.createElement( \"link\" ),\n          done, i;\n\n      timeout = timeout || yepnope['errorTimeout'];\n\n      cb = internal ? executeStack : ( cb || noop );\n\n      // Add attributes\n      link.href = href;\n      link.rel  = \"stylesheet\";\n      link.type = \"text/css\";\n\n      // Add our extra attributes to the link element\n      for ( i in attrs ) {\n        link.setAttribute( i, attrs[ i ] );\n      }\n\n      if ( ! err ) {\n        firstScript.parentNode.insertBefore( link, firstScript );\n        sTimeout(cb, 0);\n      }\n    }\n\n    function executeStack ( ) {\n      // shift an element off of the stack\n      var i   = execStack.shift();\n      started = 1;\n\n      // if a is truthy and the first item in the stack has an src\n      if ( i ) {\n        // if it's a script, inject it into the head with no type attribute\n        if ( i['t'] ) {\n          // Inject after a timeout so FF has time to be a jerk about it and\n          // not double load (ignore the cache)\n          sTimeout( function () {\n            (i['t'] == \"c\" ?  yepnope['injectCss'] : yepnope['injectJs'])( i['s'], 0, i['a'], i['x'], i['e'], 1 );\n          }, 0 );\n        }\n        // Otherwise, just call the function and potentially run the stack\n        else {\n          i();\n          executeStack();\n        }\n      }\n      else {\n        // just reset out of recursive mode\n        started = 0;\n      }\n    }\n\n    function preloadFile ( elem, url, type, splicePoint, dontExec, attrObj, timeout ) {\n\n      timeout = timeout || yepnope['errorTimeout'];\n\n      // Create appropriate element for browser and type\n      var preloadElem = doc.createElement( elem ),\n          done        = 0,\n          firstFlag   = 0,\n          stackObject = {\n            \"t\": type,     // type\n            \"s\": url,      // src\n          //r: 0,        // ready\n            \"e\": dontExec,// set to true if we don't want to reinject\n            \"a\": attrObj,\n            \"x\": timeout\n          };\n\n      // The first time (common-case)\n      if ( scriptCache[ url ] === 1 ) {\n        firstFlag = 1;\n        scriptCache[ url ] = [];\n      }\n\n      function onload ( first ) {\n        // If the script/css file is loaded\n        if ( ! done && isFileReady( preloadElem.readyState ) ) {\n\n          // Set done to prevent this function from being called twice.\n          stackObject['r'] = done = 1;\n\n          ! started && executeStack();\n\n          // Handle memory leak in IE\n          preloadElem.onload = preloadElem.onreadystatechange = null;\n          if ( first ) {\n            if ( elem != \"img\" ) {\n              sTimeout(function(){ insBeforeObj.removeChild( preloadElem ) }, 50);\n            }\n\n            for ( var i in scriptCache[ url ] ) {\n              if ( scriptCache[ url ].hasOwnProperty( i ) ) {\n                scriptCache[ url ][ i ].onload();\n              }\n            }\n          }\n        }\n      }\n\n\n      // Setting url to data for objects or src for img/scripts\n      if ( elem == \"object\" ) {\n        preloadElem.data = url;\n      } else {\n        preloadElem.src = url;\n\n        // Setting bogus script type to allow the script to be cached\n        preloadElem.type = elem;\n      }\n\n      // Don't let it show up visually\n      preloadElem.width = preloadElem.height = \"0\";\n\n      // Attach handlers for all browsers\n      preloadElem.onerror = preloadElem.onload = preloadElem.onreadystatechange = function(){\n        onload.call(this, firstFlag);\n      };\n      // inject the element into the stack depending on if it's\n      // in the middle of other scripts or not\n      execStack.splice( splicePoint, 0, stackObject );\n\n      // The only place these can't go is in the <head> element, since objects won't load in there\n      // so we have two options - insert before the head element (which is hard to assume) - or\n      // insertBefore technically takes null/undefined as a second param and it will insert the element into\n      // the parent last. We try the head, and it automatically falls back to undefined.\n      if ( elem != \"img\" ) {\n        // If it's the first time, or we've already loaded it all the way through\n        if ( firstFlag || scriptCache[ url ] === 2 ) {\n          insBeforeObj.insertBefore( preloadElem, isGeckoLTE18 ? null : firstScript );\n\n          // If something fails, and onerror doesn't fire,\n          // continue after a timeout.\n          sTimeout( onload, timeout );\n        }\n        else {\n          // instead of injecting, just hold on to it\n          scriptCache[ url ].push( preloadElem );\n        }\n      }\n    }\n\n    function load ( resource, type, dontExec, attrObj, timeout ) {\n      // If this method gets hit multiple times, we should flag\n      // that the execution of other threads should halt.\n      started = 0;\n\n      // We'll do 'j' for js and 'c' for css, yay for unreadable minification tactics\n      type = type || \"j\";\n      if ( isString( resource ) ) {\n        // if the resource passed in here is a string, preload the file\n        preloadFile( type == \"c\" ? strCssElem : strJsElem, resource, type, this['i']++, dontExec, attrObj, timeout );\n      } else {\n        // Otherwise it's a callback function and we can splice it into the stack to run\n        execStack.splice( this['i']++, 0, resource );\n        execStack.length == 1 && executeStack();\n      }\n\n      // OMG is this jQueries? For chaining...\n      return this;\n    }\n\n    // return the yepnope object with a fresh loader attached\n    function getYepnope () {\n      var y = yepnope;\n      y['loader'] = {\n        \"load\": load,\n        \"i\" : 0\n      };\n      return y;\n    }\n\n    /* End loader helper functions */\n    // Yepnope Function\n    yepnope = function ( needs ) {\n\n      var i,\n          need,\n          // start the chain as a plain instance\n          chain = window['yepnope']['loader'];\n\n      function satisfyPrefixes ( url ) {\n        // split all prefixes out\n        var parts   = url.split( \"!\" ),\n        gLen    = globalFilters.length,\n        origUrl = parts.pop(),\n        pLen    = parts.length,\n        res     = {\n          \"url\"      : origUrl,\n          // keep this one static for callback variable consistency\n          \"origUrl\"  : origUrl,\n          \"prefixes\" : parts\n        },\n        mFunc,\n        j,\n        prefix_parts;\n\n        // loop through prefixes\n        // if there are none, this automatically gets skipped\n        for ( j = 0; j < pLen; j++ ) {\n          prefix_parts = parts[ j ].split( '=' );\n          mFunc = prefixes[ prefix_parts.shift() ];\n          if ( mFunc ) {\n            res = mFunc( res, prefix_parts );\n          }\n        }\n\n        // Go through our global filters\n        for ( j = 0; j < gLen; j++ ) {\n          res = globalFilters[ j ]( res );\n        }\n\n        // return the final url\n        return res;\n      }\n\n      function getExtension ( url ) {\n          return url.split(\".\").pop().split(\"?\").shift();\n      }\n\n      function loadScriptOrStyle ( input, callback, chain, index, testResult ) {\n        // run through our set of prefixes\n        var resource     = satisfyPrefixes( input ),\n            autoCallback = resource['autoCallback'],\n            extension    = getExtension( resource['url'] );\n\n        // if no object is returned or the url is empty/0 just exit the load\n        if ( resource['bypass'] ) {\n          return;\n        }\n\n        // Determine callback, if any\n        if ( callback ) {\n          callback = isFunction( callback ) ?\n            callback :\n            callback[ input ] ||\n            callback[ index ] ||\n            callback[ ( input.split( \"/\" ).pop().split( \"?\" )[ 0 ] ) ];\n        }\n\n        // if someone is overriding all normal functionality\n        if ( resource['instead'] ) {\n          return resource['instead']( input, callback, chain, index, testResult );\n        }\n        else {\n          // Handle if we've already had this url and it's completed loaded already\n          if ( scriptCache[ resource['url'] ] ) {\n            // don't let this execute again\n            resource['noexec'] = true;\n          }\n          else {\n            scriptCache[ resource['url'] ] = 1;\n          }\n\n          // Throw this into the queue\n          chain.load( resource['url'], ( ( resource['forceCSS'] || ( ! resource['forceJS'] && \"css\" == getExtension( resource['url'] ) ) ) ) ? \"c\" : undef, resource['noexec'], resource['attrs'], resource['timeout'] );\n\n          // If we have a callback, we'll start the chain over\n          if ( isFunction( callback ) || isFunction( autoCallback ) ) {\n            // Call getJS with our current stack of things\n            chain['load']( function () {\n              // Hijack yepnope and restart index counter\n              getYepnope();\n              // Call our callbacks with this set of data\n              callback && callback( resource['origUrl'], testResult, index );\n              autoCallback && autoCallback( resource['origUrl'], testResult, index );\n\n              // Override this to just a boolean positive\n              scriptCache[ resource['url'] ] = 2;\n            } );\n          }\n        }\n      }\n\n      function loadFromTestObject ( testObject, chain ) {\n          var testResult = !! testObject['test'],\n              group      = testResult ? testObject['yep'] : testObject['nope'],\n              always     = testObject['load'] || testObject['both'],\n              callback   = testObject['callback'] || noop,\n              cbRef      = callback,\n              complete   = testObject['complete'] || noop,\n              needGroupSize,\n              callbackKey;\n\n          // Reusable function for dealing with the different input types\n          // NOTE:: relies on closures to keep 'chain' up to date, a bit confusing, but\n          // much smaller than the functional equivalent in this case.\n          function handleGroup ( needGroup, moreToCome ) {\n            if ( ! needGroup ) {\n              // Call the complete callback when there's nothing to load.\n              ! moreToCome && complete();\n            }\n            // If it's a string\n            else if ( isString( needGroup ) ) {\n              // if it's a string, it's the last\n              if ( !moreToCome ) {\n                // Add in the complete callback to go at the end\n                callback = function () {\n                  var args = [].slice.call( arguments );\n                  cbRef.apply( this, args );\n                  complete();\n                };\n              }\n              // Just load the script of style\n              loadScriptOrStyle( needGroup, callback, chain, 0, testResult );\n            }\n            // See if we have an object. Doesn't matter if it's an array or a key/val hash\n            // Note:: order cannot be guaranteed on an key value object with multiple elements\n            // since the for-in does not preserve order. Arrays _should_ go in order though.\n            else if ( isObject( needGroup ) ) {\n              // I hate this, but idk another way for objects.\n              needGroupSize = (function(){\n                var count = 0, i\n                for (i in needGroup ) {\n                  if ( needGroup.hasOwnProperty( i ) ) {\n                    count++;\n                  }\n                }\n                return count;\n              })();\n\n              for ( callbackKey in needGroup ) {\n                // Safari 2 does not have hasOwnProperty, but not worth the bytes for a shim\n                // patch if needed. Kangax has a nice shim for it. Or just remove the check\n                // and promise not to extend the object prototype.\n                if ( needGroup.hasOwnProperty( callbackKey ) ) {\n                  // Find the last added resource, and append to it's callback.\n                  if ( ! moreToCome && ! ( --needGroupSize ) ) {\n                    // If this is an object full of callbacks\n                    if ( ! isFunction( callback ) ) {\n                      // Add in the complete callback to go at the end\n                      callback[ callbackKey ] = (function( innerCb ) {\n                        return function () {\n                          var args = [].slice.call( arguments );\n                          innerCb && innerCb.apply( this, args );\n                          complete();\n                        };\n                      })( cbRef[ callbackKey ] );\n                    }\n                    // If this is just a single callback\n                    else {\n                      callback = function () {\n                        var args = [].slice.call( arguments );\n                        cbRef.apply( this, args );\n                        complete();\n                      };\n                    }\n                  }\n                  loadScriptOrStyle( needGroup[ callbackKey ], callback, chain, callbackKey, testResult );\n                }\n              }\n            }\n          }\n\n          // figure out what this group should do\n          handleGroup( group, !!always );\n\n          // Run our loader on the load/both group too\n          // the always stuff always loads second.\n          always && handleGroup( always );\n      }\n\n      // Someone just decides to load a single script or css file as a string\n      if ( isString( needs ) ) {\n        loadScriptOrStyle( needs, 0, chain, 0 );\n      }\n      // Normal case is likely an array of different types of loading options\n      else if ( isArray( needs ) ) {\n        // go through the list of needs\n        for( i = 0; i < needs.length; i++ ) {\n          need = needs[ i ];\n\n          // if it's a string, just load it\n          if ( isString( need ) ) {\n            loadScriptOrStyle( need, 0, chain, 0 );\n          }\n          // if it's an array, call our function recursively\n          else if ( isArray( need ) ) {\n            yepnope( need );\n          }\n          // if it's an object, use our modernizr logic to win\n          else if ( isObject( need ) ) {\n            loadFromTestObject( need, chain );\n          }\n        }\n      }\n      // Allow a single object to be passed in\n      else if ( isObject( needs ) ) {\n        loadFromTestObject( needs, chain );\n      }\n    };\n\n    // This publicly exposed function is for allowing\n    // you to add functionality based on prefixes on the\n    // string files you add. 'css!' is a builtin prefix\n    //\n    // The arguments are the prefix (not including the !) as a string\n    // and\n    // A callback function. This function is passed a resource object\n    // that can be manipulated and then returned. (like middleware. har.)\n    //\n    // Examples of this can be seen in the officially supported ie prefix\n    yepnope['addPrefix'] = function ( prefix, callback ) {\n      prefixes[ prefix ] = callback;\n    };\n\n    // A filter is a global function that every resource\n    // object that passes through yepnope will see. You can\n    // of course conditionally choose to modify the resource objects\n    // or just pass them along. The filter function takes the resource\n    // object and is expected to return one.\n    //\n    // The best example of a filter is the 'autoprotocol' officially\n    // supported filter\n    yepnope['addFilter'] = function ( filter ) {\n      globalFilters.push( filter );\n    };\n\n    // Default error timeout to 10sec - modify to alter\n    yepnope['errorTimeout'] = 1e4;\n\n    // Webreflection readystate hack\n    // safe for jQuery 1.4+ ( i.e. don't use yepnope with jQuery 1.3.2 )\n    // if the readyState is null and we have a listener\n    if ( doc.readyState == null && doc.addEventListener ) {\n      // set the ready state to loading\n      doc.readyState = \"loading\";\n      // call the listener\n      doc.addEventListener( \"DOMContentLoaded\", handler = function () {\n        // Remove the listener\n        doc.removeEventListener( \"DOMContentLoaded\", handler, 0 );\n        // Set it to ready\n        doc.readyState = \"complete\";\n      }, 0 );\n    }\n\n    // Attach loader &\n    // Leak it\n    window['yepnope'] = getYepnope();\n\n    // Exposing executeStack to better facilitate plugins\n    window['yepnope']['executeStack'] = executeStack;\n    window['yepnope']['injectJs'] = injectJs;\n    window['yepnope']['injectCss'] = injectCss;\n  }\n\n}());"],"names":["main","initYepNope","utils","InitAxlib","getJsonBinClass","getEl","use","layout","trace","hosting","loading","find","saveTextFile","testExp","loadJsModule","getPlugins","args","arr","name","$ax","elementId","etc","repeater","obj","id","data","options","trim","format","newData","i","item","k","result","key","val","sub","pKey","tree","trimTreeData","ids","columns","rows","il","row","j","jl","value","err","dataOnce","diff","event","itemDefaultValue","ilen","source","target","jlen","column","rowsCount","extraRawData","latestRawData","overlapData","getOverlapData","index","element","current","states","idx","stateName","showWhenSet","stateNum","flag","callback","stop","getDiffData","data1","data2","bigData","_a","b","_b","_data","scanObj","maxLevel","unique","_arr","_obj","cid","len","curIdx","nextIdx","curItem","nextItem","_current","n","_next","t","url","script","str","fileName","blob","objectURL","anchor","el","container","show","display","svg","cloud","btnUpload","mode","shell","hash","jsonbin","__publicField","binId","response","error","_name","_private","headers","_attr","getJqEl","doc","undef","docElement","sTimeout","firstScript","toString","execStack","started","noop","isGecko","isGeckoLTE18","insBeforeObj","isOpera","isIE","strJsElem","strCssElem","isArray","isObject","isString","s","isFunction","fn","globalFilters","scriptCache","prefixes","resourceObj","prefix_parts","handler","yepnope","isFileReady","readyState","injectJs","src","cb","attrs","timeout","internal","done","executeStack","injectCss","href","link","preloadFile","elem","type","splicePoint","dontExec","attrObj","preloadElem","firstFlag","stackObject","onload","first","load","resource","getYepnope","y","needs","need","chain","satisfyPrefixes","parts","gLen","origUrl","pLen","res","mFunc","getExtension","loadScriptOrStyle","input","testResult","autoCallback","loadFromTestObject","testObject","group","always","cbRef","complete","needGroupSize","callbackKey","handleGroup","needGroup","moreToCome","count","innerCb","prefix","filter"],"mappings":";;;CAeC,WAAU;AAET,EAAAA;AAEA,WAASA,IAAO;AACd,QAAI,CAAC,OAAO,UAAU,CAAC,OAAO,QAAQ;AACpC,cAAQ,IAAI,uBAAuB;AACnC;AAAA,IACD;AAED,IAAAC,MACAC,MACAC,KAEA,OAAO,UAAUC,GACjB,OAAO,QAAQC,IACf,OAAO,QAAQ,OAAO,QAAQ;AAAA,MAC5B,MAAM;AAAA,MACN,SAAS;AAAA,MAET,KAAAC;AAAA;AAAA,MACA,QAAAC;AAAA;AAAA,MACA,OAAAC;AAAA;AAAA,MACA,SAASJ,EAAiB;AAAA;AAAA,MAC1B,SAAAK;AAAA;AAAA,MACA,SAAAC;AAAA;AAAA,MACA,MAAAC;AAAA;AAAA,MACA,cAAAC;AAAA;AAAA,MACA,SAAAC;AAAA;AAAA,MACA,cAAAC;AAAA;AAAA,MACA,OAAAT;AAAA;AAAA,MAEA,SAASU,GAAY;AAAA,MACrB,oBAAoB,OAAO,GAAG;AAAA,MAC9B,cAAc,OAAO;AAAA,MACrB,cAAc,OAAO;AAAA,MACrB,gBAAgB,OAAO;AAAA,MACvB,aAAa,OAAO;AAAA,IAC1B;AAAA,EACG;AAED,WAASZ,IAAY;AACnB,WAAO,KAAK,EAAE,IAAI,CAAE,EAAA,GAIpB,OAAO,QAAQ,IAAIa,MAAS;AAC1B,UAAIC,IAAM,CAAA;AACV,aAAAD,EAAK,QAAQ,CAAAE,MAAQ;AACnB,QAAAD,EAAI,KAAK,OAAO,IAAIC,CAAI,EAAE,CAAC;AAAA,MACnC,CAAO,GACcD,EAAI,WAAW,IAAIA,EAAI,CAAC,IAAIA;AAAA,IAEjD,GAGI,OAAO,SAAS,SAAUE,GAAK;AAQ7B,aAAO,GAAG,kBAAkBA,EAAI,SAAS,iBACzCA,EAAI,OAAO,GAAG,kBAAkB,WAAY;AAC1C,YAAIC,IAAY,KAAK,cAAe,EAAC,CAAC;AACtC,sBAAO,GAAG,gBAAgBA,CAAS,GAC5B;AAAA,MACf,GACMD,EAAI,SAAS,kBAAkB,SAASC,GAAWC,GAAK;AACtD,eAAO,GAAG,gBAAgB,GAAG,SAAS,GACtC,EAAE,IAAID,CAAS,EAAE,EAAE,QAAQ,kBAAkB;AAAA,MACrD,GAGM,OAAO,GAAG,kBAAkBD,EAAI,SAAS,eACzCA,EAAI,OAAO,GAAG,kBAAkB,WAAY;AAC1C,eAAO,OAAO,GAAG,gBAAgB,KAAK,cAAe,EAAC,CAAC,CAAC;AAAA,MAChE,GAGM,OAAO,GAAG,cAAc,SAAUC,GAAW;AAC3C,YAAIE;AACJ,sBAAO,SAAUC,GAAK;AACpB,iBAAOA,EAAI,QAAQ;AAAA,QACpB,CAAA,EAAE,KAAK,SAAUA,GAAKC,GAAI;AACzB,UAAIA,KAAMJ,MACRE,IAAWC;AAAA,QAEvB,CAAS,GACMD;AAAA,MACf,GAGM,OAAO,GAAG,qBAAqB,SAASG,GAAMC,GAAS;AAErD,QAAAA,IAAUA,KAAW,EAAE,QAAO,QAAQ,KAAI,QAAW,MAAK;AAE1D,YAAIC,IAAOD,EAAQ,MACfE,IAASF,EAAQ,OAAU,YAAW,GACtCG;AAGJ,YAAID,MAAW;AACb,UAAAC,IAAUJ;AAAA,iBACDG,MAAW,QAAQ;AAC5B,cAAIX,IAAM,CAAA;AACV,mBAASa,IAAI,GAAGA,IAAIL,EAAK,QAAQK,KAAK;AACpC,gBAAIC,IAAON,EAAKK,CAAC,GACbP,IAAM,CAAA;AACV,qBAASS,KAAKD;AACZ,cAAAR,EAAIS,CAAC,IAAID,EAAKC,CAAC,EAAE;AAEnB,YAAAf,EAAI,KAAKM,CAAG;AAAA,UACb;AACD,UAAAM,IAAUZ;AAAA,QACX,WAGQW,MAAW,OAAO;AACzB,cAAIK,IAAS,CAAA;AACb,mBAASH,IAAI,GAAGA,IAAIL,EAAK,QAAQK,KAAK;AACpC,gBAAIC,IAAON,EAAKK,CAAC,GACbP,IAAM,CAAA,GACNW,IAAM,OAAO,OAAOH,CAAI,EAAE,CAAC,EAAE,MAC7BI,IAAM,CAAA;AACV,qBAASH,KAAKD,GAAM;AAClB,kBAAIK,IAAML,EAAKC,CAAC;AAChB,cAAII,EAAI,QAAQF,KACdC,EAAI,KAAKC,EAAI,IAAI;AAAA,YAEpB;AAED,YAAIT,MAAS,WAAaA,IAAO,KAC7BA,MAAQQ,IAAMA,EAAI,CAAC,IACvBZ,EAAIW,CAAG,IAAIC,GACX,EAAE,OAAOF,GAAQV,CAAG;AAAA,UACrB;AACD,UAAAM,IAAUI;AAAA,QACX,WAGQL,MAAW,YAAYA,MAAW,OAAO;AAChD,cAAIL,IAAM,CAAA;AACV,mBAASO,IAAI,GAAGA,IAAIL,EAAK,QAAQK,KAAK;AACpC,gBAAIC,IAAON,EAAKK,CAAC;AACjB,iBAAK,KAAKC;AACR,cAAKR,EAAI,CAAC,IAGRA,EAAI,CAAC,EAAE,KAAKQ,EAAK,CAAC,EAAE,IAAI,IAFxBR,EAAI,CAAC,IAAI,CAACQ,EAAK,CAAC,EAAE,IAAI;AAAA,UAK3B;AACD,UAAAF,IAAUN;AAAA,QACX,WAGQK,MAAW;AAClB,cAAI,CAACF,EAAQ;AACX,oBAAQ,IAAI,qBAAqB,GACjCG,IAAUJ;AAAA,eACL;AACL,gBAAIQ,IAAS,CAAA,GACTI,IAAOX,EAAQ;AACnB,qBAASI,IAAI,GAAGA,IAAIL,EAAK,QAAQK,KAAK;AACpC,kBAAIC,IAAON,EAAKK,CAAC,GACbI,IAAMH,EAAKM,CAAI,EAAE,MACjBF,IAAM,CAAA,GACNZ,IAAM,CAAA;AACV,uBAASS,KAAKD;AACZ,gBAAIC,KAAKK,KACPF,EAAI,KAAKJ,EAAKC,CAAC,EAAE,IAAI;AAGzB,cAAIN,EAAQ,UAASS,IAAMA,EAAI,CAAC,IAChCZ,EAAIW,CAAG,IAAIC,GACX,EAAE,OAAOF,GAAQV,CAAG;AAAA,YACrB;AACD,YAAAM,IAAUI;AAAA,UACX;AAAA,iBAIML,MAAW,QAAQ;AAC1B,cAAIX,IAAM,CAAA;AACV,mBAASa,IAAI,GAAGA,IAAIL,EAAK,QAAQK,KAAK;AACpC,gBAAIC,IAAON,EAAKK,CAAC,GACbP,IAAM,CAAA;AACV,qBAASS,KAAKD;AAAQ,cAAAR,EAAIS,CAAC,IAAID,EAAKC,CAAC,EAAE;AACvC,YAAAf,EAAI,KAAKM,CAAG;AAAA,UACb;AACD,UAAAM,IAAUS,GAAKrB,CAAG,GACdU,MAAS,WAAaA,IAAO,KACjCD,EAAQ,QAAQa,EAAaV,CAAO;AAAA,QAC9C;AACU,UAAArB,EAAM,cAAcoB,CAAM,2FAA2F,GACrHC,IAAUJ;AAEZ,eAAOI;AAAA,MACR,GACD,OAAO,qBAAqB,OAAO,GAAG,oBAGtC,OAAO,GAAG,kBAAkB,SAAUT,GAAW;AAC/C,YAAIoB,IAAMrB,EAAI,SAAS,cAAcC,CAAS,GAC1CqB,IAAU,OAAO,GAAG,YAAYrB,CAAS,EAAE,WAC3CsB,IAAO,CAAA;AACX,iBAAS,IAAI,GAAGC,IAAKH,EAAI,QAAQ,IAAIG,GAAI,KAAK;AAC5C,cAAIC,IAAM,CAAA;AACV,mBAASC,IAAI,GAAGC,IAAKL,EAAQ,QAAQI,IAAIC,GAAID,KAAK;AAChD,gBAAI3B,IAAOuB,EAAQI,CAAC,EAAE,YAAW,GAC7BrB,IAAKgB,EAAI,CAAC;AACd,YAAK,OAAQhB,KAAO,YAAcA,EAAG,QAAQ,GAAG,KAAK,OACnDA,IAAKL,EAAI,SAAS,uBAAuBK,CAAE;AAC7C,gBAAIuB,IAAQ5B,EAAI,SAAS,QAAQ,CAAE,GAAEC,GAAWoB,EAAI,CAAC,GAAGtB,GAAM,MAAM;AACpE,YAAI,OAAQ6B,KAAU,YACpBA,IAAQ5B,EAAI,SAAS4B,CAAK,GACtBA,EAAM,SAAS,WACjBA,EAAM,OAAO,SAEfH,EAAI1B,CAAI,IAAI6B,KAEZH,EAAI1B,CAAI,IAAI;AAAA,cACV,MAAM;AAAA,cACN,MAAM6B;AAAA,YACtB;AAAA,UAEW;AACD,UAAAL,EAAK,KAAKE,CAAG;AAAA,QACd;AACD,eAAOF;AAAA,MACf,GACMvB,EAAI,OAAO,GAAG,kBAAkB,SAAUO,GAAS;AACjD,YAAIN,IAAY,KAAK,cAAe,EAAC,CAAC,GAClCK,IAAO,OAAO,GAAG,gBAAgBL,CAAS;AAC9C,eAAAK,IAAO,OAAO,GAAG,mBAAmBA,GAAMC,CAAO,GAC1CD;AAAA,MACf,GAGM,OAAO,GAAG,sBAAsB,SAAUL,GAAW;AACnD,YAAI;AACF,cAAIa;AAEJ,iBAAO,OAAO,OAAQ,SAAUb,GAAW;AACvC,mBAAsBA,EAAU,SAAzB;AAAA,UACV,CAAA,EAAG,KAAM,SAAUG,GAAKC,GAAI;AAC3B,YAAAJ,MAAcI,MAAOS,IAASV;AAAA,UAC1C,CAAa,GAAEU,EAAO;AAAA,QACb,SAAQe,GAAK;AACV,iBAAO,QAAQ,MAAM,2CAA2CA,CAAG;AAAA,QACtE;AAAA,MACT,GACM7B,EAAI,OAAO,GAAG,sBAAsB,SAAUO,GAAS;AACrD,YAAIN,IAAY,KAAK,cAAe,EAAC,CAAC,GAClCK,IAAO,OAAO,GAAG,oBAAoBL,CAAS;AAClD,eAAAK,IAAO,OAAO,GAAG,mBAAmBA,GAAMC,CAAO,GAC1CD;AAAA,MACf,GACM,OAAO,GAAG,wBAAwB,OAAO,GAAG,qBAC5CN,EAAI,OAAO,GAAG,wBAAwBA,EAAI,OAAO,GAAG,qBAGpD,OAAO,GAAG,sBAAsB,SAAUC,GAAW;AACnD,YAAIK,IAAO,OAAO,GAAG,gBAAgBL,CAAS,GAC1C6B,IAAW,OAAO,GAAG,oBAAoB7B,CAAS;AACtD,eAAAK,EAAK,OAAO,GAAGwB,EAAS,MAAM,GACvBxB;AAAA,MACf,GACMN,EAAI,OAAO,GAAG,sBAAsB,SAAUO,GAAS;AACrD,YAAIN,IAAY,KAAK,cAAe,EAAC,CAAC,GAClC8B,IAAO,OAAO,GAAG,oBAAoB9B,CAAS;AAClD,eAAO,OAAO,GAAG,mBAAmB8B,GAAMxB,CAAO;AAAA,MACzD,GAGM,OAAO,GAAG,sBAAsB,SAAUN,GAAW;AACnD,YAAIK,IAAO,OAAO,GAAG,gBAAgBL,CAAS,GAC1C6B,IAAW,OAAO,GAAG,oBAAoB7B,CAAS;AACtD,eAAAK,EAAK,OAAOwB,EAAS,QAAQxB,EAAK,MAAM,GACjCA;AAAA,MACf,GACMN,EAAI,OAAO,GAAG,sBAAsB,SAAUO,GAAS;AACrD,YAAIN,IAAY,KAAK,cAAe,EAAC,CAAC,GAClC8B,IAAO,OAAO,GAAG,oBAAoB9B,CAAS;AAClD,eAAO,OAAO,GAAG,mBAAmB8B,GAAMxB,CAAO;AAAA,MACzD,GAGM,OAAO,GAAG,kBAAkBP,EAAI,SAAS,SACzC,OAAO,GAAG,kBAAkB,SAAUC,GAAWsB,GAAM;AACrD,YAAIS,IAAQ,EAAE,eAAe,QAAW,YAAY,OAAS,GAEzDV,IADW,OAAO,GAAG,YAAYrB,CAAS,EACvB,WACnBgC,IAAmB,EAAE,MAAM,QAAQ,MAAM,GAAE;AAE/C,iBAAStB,IAAI,GAAGuB,IAAOX,EAAK,QAAQZ,IAAIuB,GAAMvB,KAAK;AACjD,cAAIwB,IAASZ,EAAKZ,CAAC,GACfyB,IAAS,CAAA;AACb,mBAASV,IAAI,GAAGW,IAAOf,EAAQ,QAAQI,IAAIW,GAAMX,KAAK;AACpD,gBAAIY,IAAShB,EAAQI,CAAC,GAClBd,IAAOuB,EAAOG,CAAM;AAExB,YAAI1B,MAAS,SACXA,IAAOqB,IACE,CAACrB,EAAK,eAAe,MAAM,KAAK,CAACA,EAAK,eAAe,MAAM,IACpEA,IAAO,EAAE,MAAM,QAAQ,MAAMA,EAAI,IAEjCA,IAAOZ,EAAI,SAASY,CAAI,GAE1BwB,EAAOE,CAAM,IAAI1B;AAAA,UAClB;AACD,UAAAZ,EAAI,SAAS,QAAQC,GAAWmC,GAAQJ,CAAK;AAAA,QAC9C;AAAA,MACT,GACMhC,EAAI,OAAO,GAAG,kBAAkB,SAAUuB,GAAM;AAC9C,YAAItB,IAAY,KAAK,cAAe,EAAC,CAAC;AACtC,sBAAO,GAAG,gBAAgBA,GAAWsB,CAAI,GACzC,OAAO,GAAG,gBAAgBtB,CAAS,GAC5B;AAAA,MACf,GAEMD,EAAI,SAAS,UAAU,WAAW;AAChC,YAAIC,IAAY,UAAU,CAAC;AAC3B,eAAO,GAAG,gBAAgB,GAAG,SAAS,GACtC,EAAE,IAAIA,CAAS,EAAE,EAAE,QAAQ,uBAAuB,EAAC,GAAG,UAAS,CAAC;AAAA,MACxE,GAIM,OAAO,GAAG,cAAcD,EAAI,SAAS,aACrCA,EAAI,OAAO,GAAG,qBAAqB,SAAUuC,GAAW;AACtD,QAAAA,IAAYA,KAAa;AACzB,YAAIjC,IAAO,KAAK,mBACZI,IAAUJ,EAAK,MAAM,GAAGA,EAAK,SAASiC,CAAS,GAC/CtC,IAAY,KAAK,cAAe,EAAC,CAAC;AACtC,sBAAO,GAAG,kBAAkBA,CAAS,GACrC,OAAO,GAAG,gBAAgBA,GAAWS,CAAO,GAC5C,OAAO,GAAG,gBAAgBT,CAAS,GAC5B;AAAA,MACf,GAEMD,EAAI,SAAS,cAAc,WAAW;AACpC,YAAIC,IAAY,UAAU,CAAC;AAC3B,eAAO,GAAG,YAAY,GAAG,SAAS,GAClC,EAAE,IAAIA,CAAS,EAAE,EAAE,QAAQ,yBAAyB,EAAC,GAAG,UAAS,CAAC;AAAA,MACnE,GAID,OAAO,GAAG,YAAYD,EAAI,SAAS,WACnCA,EAAI,SAAS,YAAY,WAAW;AAClC,YAAIC,IAAY,UAAU,CAAC;AAC3B,eAAO,GAAG,UAAU,GAAG,SAAS,GAChC,EAAE,IAAIA,CAAS,EAAE,EAAE,QAAQ,sBAAsB,EAAC,GAAG,UAAS,CAAC;AAAA,MAChE,GAID,OAAO,GAAG,kBAAkBD,EAAI,SAAS,iBACzCA,EAAI,SAAS,kBAAkB,WAAW;AACxC,YAAIC,IAAY,UAAU,CAAC;AAC3B,eAAO,GAAG,gBAAgB,GAAG,SAAS,GACtC,EAAE,IAAIA,CAAS,EAAE,EAAE,QAAQ,yBAAyB,EAAC,GAAG,UAAS,CAAC;AAAA,MACnE,GAIDD,EAAI,OAAO,GAAG,iBAAiB,SAAUwC,GAAc/B,GAAQ;AAC7D,YAAIR,IAAY,KAAK,cAAe,EAAC,CAAC,GAElCwC,IADM,OAAO,IAAIxC,CAAS,EAAE,EACR,gBAAgB,EAAC,QAAO,UAAS,CAAC,GACtDyC,IAAcC,EAAeH,GAAcC,CAAa;AAC5D,eAAO,OAAO,GAAG,mBAAmBC,GAAajC,CAAM;AAAA,SAMzDT,EAAI,OAAO,GAAG,kBAAkB,SAAUuB,GAAM;AAC9C,YAAItB,IAAY,KAAK,cAAe,EAAC,CAAC;AACtC,sBAAO,GAAG,kBAAkBA,CAAS,GACrC,OAAO,GAAG,gBAAgBA,GAAWsB,CAAI,GACzC,OAAO,GAAG,gBAAgBtB,CAAS,GACnC,EAAE,IAAIA,CAAS,EAAE,EAAE,QAAQ,qBAAqB,EAAC,GAAG,UAAS,CAAC,GACvD;AAAA,MACf,GAGM,OAAO,GAAG,oBAAoB,SAAUA,GAAW;AACjD,YAAIoB,IAAM,OAAO,GAAG,gBAAgBpB,CAAS;AAC7C,QAAAD,EAAI,SAAS,aAAaC,GAAWoB,CAAG,GACxCrB,EAAI,SAAS,YAAYC,GAAW,CAAA,GAAI,UAAU,MAAS;AAAA,MACnE,GACMD,EAAI,OAAO,GAAG,oBAAoB,WAAY;AAC5C,YAAIC,IAAY,KAAK,cAAe,EAAC,CAAC;AACtC,sBAAO,GAAG,kBAAkBA,CAAS,GACrC,OAAO,GAAG,gBAAgBA,CAAS,GAC5B;AAAA,MACf,GASM,OAAO,GAAG,iBAAiB,SAAUA,GAAW;AAC9C,YAAIa,IAAS,CAAA;AACb,iBAAS8B,IAAQ,KAAIA,KAAS;AAC5B,cAAIC,IAAU,EAAE,MAAM5C,IAAY,YAAY2C,IAAQ,EAAE;AACxD,cAAI,CAACC,EAAQ;AAAQ;AACrB,cAAI9C,IAAO8C,EAAQ,KAAK,YAAY;AACpC,UAAA/B,EAAO8B,CAAK,IAAI7C,GAChBe,EAAOf,CAAI,IAAI6C;AAAA,QAChB;AACD,eAAO9B;AAAA,MACf,GACMd,EAAI,OAAO,GAAG,iBAAiB,WAAY;AAEzC,eADa,OAAO,GAAG,eAAe,KAAK,cAAa,EAAG,CAAC,CAAC;AAAA,MAErE,GAGM,OAAO,GAAG,uBAAuB,SAAUC,GAAW;AACpD,YAAI6C,GACAC,IAAS,EAAE,IAAI9C,CAAS,EAAE,EAAE,SAAS,cAAc;AACvD,iBAAE,KAAK8C,GAAQ,CAACC,GAAKpC,MAAS;AAC5B,UAAI,EAAEA,CAAI,EAAE,IAAI,YAAY,KAAG,YAAY,EAAEA,CAAI,EAAE,IAAI,SAAS,KAAG,WACjEkC,IAAUlC;AAAA,QAEtB,CAAS,GACMkC;AAAA,MACf,GACM9C,EAAI,OAAO,GAAG,uBAAuB,WAAY;AAE/C,eADc,OAAO,GAAG,qBAAqB,KAAK,cAAa,EAAG,CAAC,CAAC;AAAA,MAE5E,GAGM,OAAO,GAAG,sBAAsB,SAAUC,GAAWgD,GAAW1C,GAAS2C,GAAa;AACpF,YAAIH,IAAS,OAAO,GAAG,eAAe9C,CAAS;AAC/C,iBAASY,IAAI,GAAGA,IAAIkC,EAAO,QAAQlC;AACjC,cAAIkC,EAAOlC,CAAC,KAAKoC,GAAW;AAC1B,gBAAIE,IAAWtC;AACf,mBAAO,MAAMZ,CAAS,EAAE,cAAckD,GAAU5C,KAAW,CAAE,GAAE2C,KAAe,EAAK;AAAA,UACpF;AAAA,MAEX,GACMlD,EAAI,OAAO,GAAG,sBAAsB,SAAUiD,GAAW1C,GAAS2C,GAAa;AAC7E,YAAIjD,IAAY,KAAK,cAAe,EAAC,CAAC;AACtC,sBAAO,GAAG,oBAAoBA,GAAWgD,GAAW1C,GAAS2C,CAAW,GACjE;AAAA,MACf,GACMlD,EAAI,OAAO,GAAG,uBAAuB,SAAU4C,GAAOrC,GAAS2C,GAAa;AAC1E,YAAIjD,IAAY,KAAK,cAAe,EAAC,CAAC;AACtC,sBAAO,MAAMA,CAAS,EAAE,cAAc2C,GAAOrC,KAAW,CAAE,GAAE2C,KAAe,EAAK,GACzE;AAAA,MACf,GAMMlD,EAAI,OAAO,GAAG,QAAQ,WAAY;AAChC,eAAO,KAAK,gBAAgB,CAAC;AAAA,MACrC,GACMA,EAAI,OAAO,GAAG,QAAQ,WAAY;AAChC,eAAO,KAAK,cAAc,CAAC;AAAA,MACnC,GACM,OAAO,OAAOR,GAMdQ,EAAI,OAAO,oBAAoBA,EAAI,oBAAoB,SAAUD,GAAM;AACrE,eAAOC,EAAI,uBAAuB,iBAAiBD,CAAI;AAAA,MAC/D,GAMMC,EAAI,OAAO,GAAG,aAAa,SAAUoD,GAAM;AACzC,aAAK,EAAC,EAAG,IAAI,UAAUA,IAAO,YAAY,SAAS;AAAA,MAC3D,GACMpD,EAAI,OAAO,GAAG,YAAY,SAAUoD,GAAM;AACxC,aAAK,EAAC,EAAG,IAAI,kBAAkBA,IAAO,SAAS,MAAM;AAAA,MAC7D,GASM,OAAO,GAAG,WAAW,IACrB,OAAO,GAAG,cAAc,WAAY;AAAA,SACpC,OAAO,YAAY,SAAUC,GAAU;AACrC,eAAO,GAAG,cAAcA;AAAA,MAChC,GAGM,OAAO,GAAG,WAAWrD,EAAI,OAAO,UAGhCA,EAAI,OAAO,WAAWA,EAAI,WAAW,SAASO,GAAS;AACrD,YAAI+C,IAAO,CAAAF,MAAQ;AAAE,UAAIA,MAAO,WAAaA,IAAO,KAAQ,OAAO,GAAG,WAAW,CAACA;AAAA,QAAK;AAGvF,QAFA,OAAO,GAAG,YAAY7C,GAAQ+C,CAAI,GAE7B,OAAO,GAAG,YACf,OAAO,GAAG,SAAS/C,CAAO;AAAA,MAClC,GAEM,OAAO,iBAAiBoC,GACxB,OAAO,cAAcY;AAAA,IAE3B,CAAK;AAAA,EAEF;AAQD,WAASZ,EAAea,GAAOC,GAAO;AAWpC,QAAIC,IAAUF,EAAM,SAASC,EAAM,SAASD,IAAQC;AAEpD,YADgBD,EAAM,SAASC,EAAM,SAASD,IAAQC,GAC5C,QAAQ,CAAC,GAAG,MAAM;AAC1B,UAAIE,IAAK,KAAK,UAAU,CAAC;AACzB,MAAAD,EAAQ,QAAQ,CAACE,GAAGlC,MAAM;AACxB,YAAImC,IAAK,KAAK,UAAUD,CAAC;AACzB,QAAID,KAAME,MAAMH,EAAQhC,CAAC,IAAI;AAAA,MACrC,CAAO,GACDgC,IAAUA,EAAQ,OAAO,OAAO;AAAA,IACtC,CAAK,GACMA;AAAA,EACR;AAED,WAASH,GAAYC,GAAOC,GAAO;AAEjC,QAAI1B,IAAOyB,EAAM,OAAOC,CAAK,EAAE,IAAI,CAAA7C,MAAQ,KAAK,UAAUA,CAAI,CAAC,EAAE,OAAO,CAACgB,GAAOoB,GAAKlD,MAC5EA,EAAI,QAAQ8B,CAAK,KAAK9B,EAAI,YAAY8B,CAAK,CACnD;AACD,WAAO,KAAK,MAAM,IAAIG,CAAI,GAAG;AAAA,EAC9B;AAED,WAASZ,GAAK2C,GAAO;AAEnB,QAAIC,IAAU,CAAA,GACVC,IAAWF,EAAM,SAAS,IAAI,OAAO,KAAKA,EAAM,CAAC,CAAC,EAAE,SAAS;AAEjE,UAAMG,IAAS,SAASnE,GAAKM,GAAK;AAChC,UAAI8D,IAAO,CAAA,GAAIC,IAAO;AACtB,eAAQxD,IAAE,GAAGA,IAAEb,EAAI,QAAQa;AACzB,QAAMuD,EAAK,SAAUpE,EAAIa,CAAC,CAAC,MACzBuD,EAAK,KAAMpE,EAAIa,CAAC,CAAC,GACjBwD,EAAK,KAAM/D,EAAIO,CAAC,CAAC;AAGrB,aAAO,CAACuD,GAAMC,CAAI;AAAA,IACxB;AAEI,aAAS,IAAE,GAAG,IAAEH,GAAU,KAAK;AAC7B,UAAII,IAAM,IAAI,IAAE,CAAC,IACbtE,IAAM,CAAA,GAAIM,IAAM;AACpB,eAASS,KAAKiD,GAAO;AACnB,YAAIlD,IAAOkD,EAAMjD,CAAC;AAClB,QAAAf,EAAI,KAAKc,EAAKwD,CAAG,CAAC,GAClBhE,EAAI,KAAK,EAAC,OAAMQ,EAAKwD,CAAG,GAAG,OAAMxD,EAAKwD,CAAG,GAAG,QAAOxD,EAAK,IAAI,CAAC,EAAE,GAAG,UAAS,CAAE,EAAA,CAAC;AAAA,MAC/E;AACY,MAAAqD,EAAOnE,GAAKM,CAAG,EAAE,CAAC,GAC/B2D,EAAQ,CAAC,IAAIE,EAAOnE,GAAKM,CAAG,EAAE,CAAC;AAAA,IAChC;AAED,QAAIiE,IAAMN,EAAQ;AAClB,aAAS,IAAE,GAAG,IAAEM,GAAK,KAAK;AACxB,UAAIC,IAASD,IAAI,IAAE,GACfE,IAAUF,IAAI,IAAE,GAChBG,IAAUT,EAAQO,CAAM,GACxBG,IAAWV,EAAQQ,CAAO;AAE9B,eAAS1D,KAAK2D,GAAS;AACrB,YAAIE,IAAWF,EAAQ3D,CAAC;AACxB,iBAAS8D,KAAKF,GAAU;AACtB,cAAIG,IAAQH,EAASE,CAAC;AACtB,UAAID,EAAS,UAAUE,EAAM,SAC3BA,EAAM,SAAS,KAAKF,CAAQ;AAAA,QAE/B;AAAA,MACF;AAAA,IACF;AAED,aAASG,IAAE,GAAGA,IAAEd,EAAQ,CAAC,EAAE,QAAQc;AACjC,aAAOd,EAAQ,CAAC,EAAEc,CAAC,EAAE;AAGvB,WAAOd,EAAQ,CAAC;AAAA,EACjB;AAED,WAAS3C,EAAatB,GAAK;AACzB,aAASa,IAAE,GAAGA,IAAEb,EAAI,QAAQa,KAAK;AAC/B,UAAIC,IAAOd,EAAIa,CAAC;AAChB,MAAIC,EAAK,SAAS,SAAS,IACrBA,EAAK,SAAS,UAAU,KAAK,CAACA,EAAK,SAAS,CAAC,EAAE,QACjD,OAAOA,EAAK,WAEZQ,EAAaR,EAAK,QAAQ,IAEnBA,EAAK,YAAYA,EAAK,SAAS,UAAU,KAClD,OAAOA,EAAK;AAAA,IAEf;AAAA,EACF;AAED,WAASjB,GAAamF,GAAKzB,GAAU;AACnC,QAAI0B,IAAS,SAAS,cAAc,QAAQ;AAC5C,IAAAA,EAAO,SAAS1B,KAAY,WAAU;AAAA,OACtC0B,EAAO,aAAa,QAAQ,QAAQ,GACpCA,EAAO,aAAa,OAAOD,CAAG,GAC9B,SAAS,cAAc,MAAM,EAAE,YAAYC,CAAM;AAAA,EAClD;AAED,WAASrF,KAAU;AACjB,YAAQ,MAAM,qBAAqB;AAAA,EACpC;AAED,WAASD,GAAauF,GAAKC,GAAU;AACnC,IAAAD,IAAMA,KAAO,SACbC,IAAWA,KAAY;AACvB,UAAMC,IAAO,IAAI,KAAK,CAACF,CAAG,GAAG,EAAE,MAAM,iCAAgC,CAAE,GACjEG,IAAY,IAAI,gBAAgBD,CAAI,GAEpCE,IAAS,SAAS,cAAc,GAAG;AACzC,IAAAA,EAAO,OAAOD,GACdC,EAAO,WAAWH,GAClBG,EAAO,MAAK,GAEZ,IAAI,gBAAgBD,CAAS;AAAA,EAC9B;AAED,WAAS3F,IAAQ;AACf,QAAIK,IAAO,CAAC,GAAG,SAAS,GACpBO,IAAM,CAAA;AACV,aAASO,IAAI,GAAGA,IAAId,EAAK,QAAQc,KAAK;AACpC,UAAIZ,IAAOF,EAAKc,CAAC,GACb0E,IAAK,OAAO,MAAMtF,CAAI;AAC1B,MAAIsF,EAAG,IAAI,SAAS,MAClBjF,EAAIL,CAAI,IAAIsF;AAAA,IAEf;AACD,WAAOjF;AAAA,EACR;AAED,WAASb,GAAQ+F,GAAWC,GAAMhF,GAAS;AACzC,IAAAA,IAAUA,KAAW,EAAE,OAAM,QAAQ,SAAQ,KAAK,OAAM,KAAK,OAAM,GAAG,KAAI,GAAG,UAAS,gBAClFgF,MAAS,WAAaA,IAAO;AACjC,QAAIC,IAAUD,IAAO,UAAU,QAE3BE,IAAM;AAAA,mGACqFlF,EAAQ,KAAK,4BAA4BA,EAAQ,KAAK;AAAA;AAAA;AAAA,sCAGnHA,EAAQ,OAAO;AAAA;AAAA,6GAEwDA,EAAQ,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAMpH,WAAAkF,IAAMA,EAAI,UAEL,OAAO,OAAO,0BACjB,EAAE,MAAM,EAAE,OAAO;AAAA;AAAA;AAAA,kCAGWD,CAAO,6HAA6HjF,EAAQ,QAAQ;AAAA;AAAA;AAAA,OAG/K,GACD,OAAO,OAAO,wBAAwB,KAGpC,EAAE+E,CAAS,EAAE,SAAS,aAAa,EAAE,WAAW,KAClD,EAAEA,CAAS,EAAE,OAAO,uDAAuDG,CAAG,cAAc,GAEvF,EAAEH,CAAS,EAAE,SAAS,aAAa,EAAE,IAAI,CAAC;AAAA,EAClD;AAED,WAAShG,GAAQoG,GAAO;AAEtB,QADAA,IAAQA,KAAS,SACbA,KAAS,SAAS;AACpB,UAAIC,IAAY,EAAE,uBAAuB,IAAI,QAAQ;AACrD,MAAIA,EAAU,WAAW,IACvBtG,EAAM,0BAA0B,IAEhCsG,EAAU,MAAK;AAAA,IAElB;AAAA,EACF;AAED,WAAStG,IAAQ;AACf,YAAQ,MAAM,WAAW,oFAAoF,GAC7G,QAAQ,IAAI,GAAG,SAAS,GACxB,QAAQ,SAAQ;AAAA,EACjB;AAED,WAASD,GAAOwG,GAAM;AACpB,IAAI,QAAQ,QACZA,IAAOA,MAAS,SAAYA,IAAO,GAYnC,WAAW,MAAM;AACf,UAAIC,IAAQ,OAAO,OAAO,UACtBC,IAAOD,EAAM,SAAS;AAE1B,MAAID,IAAO,MACLE,EAAK,QAAQ,OAAO,IAAI,KAC1B,EAAED,CAAK,EAAE,KAAK,kBAAkB,EAAE,MAAK,GAErCC,EAAK,QAAQ,OAAO,IAAI,MAC1B,EAAED,CAAK,EAAE,KAAK,qBAAqB,EAAE,MAAK,IAI1CD,MAAS,KACX,EAAEC,CAAK,EAAE,KAAK,yBAAyB,EAAE,KAAI,GAC7C,EAAEA,CAAK,EAAE,KAAK,yBAAyB,EAAE,WAChCD,MAAS,KAClB,EAAEC,CAAK,EAAE,KAAK,yBAAyB,EAAE,SACzC,EAAEA,CAAK,EAAE,KAAK,yCAAyC,EAAE,MAAK,GAC9D,EAAEA,CAAK,EAAE,KAAK,yBAAyB,EAAE,KAAI,KACpCD,MAAS,KAClB,EAAEC,CAAK,EAAE,KAAK,yBAAyB,EAAE,SACzC,EAAEA,CAAK,EAAE,KAAK,yCAAyC,EAAE,MAAK,GAC9D,EAAEA,CAAK,EAAE,KAAK,yBAAyB,EAAE,KAAI,KACpCD,MAAS,MAClB,EAAEC,CAAK,EAAE,KAAK,yBAAyB,EAAE,SACzC,EAAEA,CAAK,EAAE,KAAK,yCAAyC,EAAE,MAAK,GAC9D,EAAEA,CAAK,EAAE,KAAK,yBAAyB,EAAE,KAAI;AAAA,IAEhD,GAAE,CAAC;AAAA,EACL;AAED,WAAS1G,KAAM;AACb,YAAQ,MAAM,iBAAiB;AAAA,EAChC;AAED,WAASF,IAAkB;AAAA,IACzB,MAAM8G,EAAQ;AAAA,MAKZ,YAAY1F,GAAI;AAJhB,QAAA2F,EAAA,aAAM;AACN,QAAAA,EAAA,iBAAU;AACV,QAAAA,EAAA,oBAAa;AAGT,aAAK,MAAM3F;AAAA,MACd;AAAA,MAED,IAAI,KAAK;AACL,eAAO,KAAK;AAAA,MACf;AAAA,MAED,IAAI,GAAGA,GAAI;AACP,aAAK,MAAMA;AAAA,MACd;AAAA,MAED,IAAI,SAAS;AACT,eAAO,KAAK;AAAA,MACf;AAAA,MAED,IAAI,OAAOU,GAAK;AACZ,aAAK,UAAUA;AAAA,MAClB;AAAA,MAED,IAAI,YAAY;AACZ,eAAO,KAAK;AAAA,MACf;AAAA,MAED,IAAI,UAAUA,GAAK;AACf,aAAK,aAAaA;AAAA,MACrB;AAAA,MAED,OAAO;AACH,cAAMkF,IAAQ,KAAK;AAGnB,eAAO,MAAM,+BAA+BA,CAAK,WAAkB;AAAA,UAC/D,SAAS;AAAA,YACL,gBAAgB;AAAA,YAChB,gBAAgB,KAAK;AAAA,UACxB;AAAA,QACf,CAAW,EACA,KAAK,CAAAC,MAAYA,EAAS,MAAM,EAChC,MAAM,CAAAC,MAAS;AAAE,kBAAQ,MAAMA,CAAK;AAAA,QAAE,CAAE;AAAA,MAC5C;AAAA,MAED,OAAO7F,GAAM;AACT,cAAM2F,IAAQ,KAAK;AAEnB,eAAO,MAAM,+BAA+BA,CAAK,IAAI;AAAA,UACjD,QAAQ;AAAA,UACR,SAAS;AAAA,YACL,gBAAgB;AAAA;AAAA,UAEnB;AAAA,UACD,MAAM,KAAK,UAAU3F,CAAI;AAAA,QACvC,CAAW,EACA,KAAK,CAAA4F,MAAYA,EAAS,MAAM,EAChC,MAAM,CAAAC,MAAS;AAAE,kBAAQ,MAAMA,CAAK;AAAA,QAAE,CAAE;AAAA,MAC5C;AAAA,MAED,OAAOC,GAAOC,IAAS,IAAO;AAO1B,cAAMC,IAAU;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAiBD;AAAA,QAC/B;AAEU,eAAI,KAAK,WAAW,OAChBC,EAAQ,cAAc,IAAI,KAAK,UAG/B,KAAK,cAAc,MAAM,KAAK,WAAW,OACzCA,EAAQ,cAAc,IAAI,KAAK,aAG/BF,MACAE,EAAQ,YAAY,IAAIF,IAGrB,MAAM,+BAA+B;AAAA,UACxC,QAAQ;AAAA,UACR,SAAAE;AAAA,UACA,MAAM,KAAK,UAAU,EAAC,KAAI,MAAK,CAAC;AAAA,QAC9C,CAAW,EACA,KAAK,CAAAJ,MAAYA,EAAS,MAAM,EAChC,MAAM,CAAAC,MAAS;AAAE,kBAAQ,MAAMA,CAAK;AAAA,QAAE,CAAE;AAAA,MAC5C;AAAA,MAED,OAAOF,IAAM,KAAK,KAAK;AACnB,cAAMK,IAAU,CAAA;AAEhB,eAAI,KAAK,WAAW,OAChBA,EAAQ,cAAc,IAAI,KAAK,UAG/B,KAAK,cAAc,MAAM,KAAK,WAAW,OACzCA,EAAQ,cAAc,IAAI,KAAK,aAG5B,MAAM,+BAA+BL,CAAK,IAAI;AAAA,UACjD,QAAQ;AAAA,UACR,SAAAK;AAAA,QACd,CAAW,EACA,KAAK,CAAAJ,MAAYA,EAAS,MAAM,EAChC,MAAM,CAAAC,MAAS;AAAE,kBAAQ,MAAMA,CAAK;AAAA,QAAE,CAAE;AAAA,MAC5C;AAAA,IACF;AAED,WAAOJ;AAAA,EACR;AAED,WAAShH,KAAQ;AAEf,WAAO,eAAe,OAAO,WAAW,UAAU;AAAA,MAChD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,OAAO,WAAY;AACjB,eAAO,KAAK,QAAQ,iBAAiB,EAAE;AAAA,MACxC;AAAA,IACP,CAAK,GAQD,EAAE,SAAS,SAAUiG,GAAK;AACxB,UAAI;AACF,YAAI,OAAO,KAAK,MAAMA,CAAG,KAAK;AAC5B,iBAAO;AAAA,MAEjB,QAAkB;AAAA,MAAE;AACd,aAAO;AAAA,IACb,GAGI,EAAE,GAAG,OAAO;AAAA,MACV,SAAW,CAAAjF,MAAQ;AACjB,YAAIwG,IAAQ,EAAE,IAAI,EAAE,KAAKxG,CAAI;AAC7B,eAAI,OAAOwG,IAAU,OAAoBA,MAAU;AAAA,MAKpD;AAAA,IACP,CAAK,GAED,EAAE,QAAQC;AAAA,EACX;AAED,WAASA,MAAW3G,GAAM;AACxB,QAAIC,IAAM,CAAA;AACV,WAAAD,EAAK,QAAQ,CAAAE,MAAQ;AACnB,MAAAD,EAAI,KAAK,EAAE,gBAAgBC,CAAI,IAAI,CAAC;AAAA,IAC1C,CAAK,GACcD,EAAI,WAAW,IAAIA,EAAI,CAAC,IAAIA;AAAA,EAE5C;AAED,WAASZ,MAASW,GAAM;AACtB,QAAIC,IAAM,CAAA;AACV,WAAAD,EAAK,QAAQ,CAAAE,MAAQ;AACnB,MAAAD,EAAI,KAAK,SAAS,cAAc,gBAAgBC,CAAI,IAAI,CAAC;AAAA,IAC/D,CAAK,GACcD,EAAI,WAAW,IAAIA,EAAI,CAAC,IAAIA;AAAA,EAE5C;AAED,WAASF,KAAa;AACpB,WAAO;AAAA,MACL,OAAO;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA,UACL;AAAA,UACA;AAAA,QACD;AAAA,MACF;AAAA,MACD,UAAU;AAAA,QACR,MAAM;AAAA,QACN,OAAO;AAAA,UACL;AAAA,QACD;AAAA,MACF;AAAA,MACD,OAAO;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA,UACL;AAAA,UACA;AAAA,QACD;AAAA,MACF;AAAA,MACD,SAAS;AAAA,QACP,MAAM;AAAA,QACN,OAAO;AAAA,UACL;AAAA,QACD;AAAA,MACF;AAAA,MACD,QAAQ;AAAA,QACN,MAAM;AAAA,QACN,OAAO;AAAA,UACL;AAAA,QACD;AAAA,MACF;AAAA,MACD,SAAS;AAAA,QACP,MAAM;AAAA,QACN,OAAO;AAAA,UACL;AAAA,QACD;AAAA,MACF;AAAA,MACD,MAAM;AAAA,QACJ,MAAM;AAAA,QACN,OAAO;AAAA,UACL;AAAA,QACD;AAAA,MACF;AAAA,MACD,QAAQ;AAAA,QACN,MAAM;AAAA,QACN,OAAO;AAAA,UACL;AAAA,QACD;AAAA,MACF;AAAA,MACD,OAAO;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA,UACL;AAAA,QACD;AAAA,MACF;AAAA,MACD,UAAU;AAAA,QACR,MAAM;AAAA,QACN,OAAO;AAAA,UACL;AAAA,UACA;AAAA,QACD;AAAA,MACF;AAAA,MACD,SAAS;AAAA,QACP,MAAM;AAAA,QACN,OAAO;AAAA,UACL;AAAA,UACA;AAAA,QACD;AAAA,MACF;AAAA,MACD,WAAW;AAAA,QACT,MAAM;AAAA,QACN,OAAO;AAAA,UACL;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACD;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAED,WAASd,KAAe;AACtB,QAAI2H,IAAM,UACRC,GACAC,IAAwBF,EAAI,iBAC5BG,IAAwB,OAAO,YAC/BC,IAAwBJ,EAAI,qBAAsB,QAAQ,EAAI,CAAG,GACjEK,IAAwB,CAAE,EAAC,UAC3BC,IAAwB,CAAE,GAC1BC,IAAwB,GACxBC,IAAwB,WAAY;AAAA,IAAE,GAItCC,IAA0B,mBAAmBP,EAAW,OACxDQ,IAAwBD,KAAW,CAAC,CAAET,EAAI,YAAa,EAAC,aACxDW,IAAwBD,IAAeR,IAAaE,EAAY,YAEhEQ,IAAwB,OAAO,SAASP,EAAS,KAAM,OAAO,KAAK,KAAM,kBACzEQ,IAAwB,CAAC,CAAEb,EAAI,eAAe,CAACY,GAC/CE,IAAwBL,IAAU,WAAWI,IAAQ,WAAW,OAChEE,KAAwBF,IAAO,WAAWC,GAC1CE,KAAwB,MAAM,WAAW,SAAWrH,GAAM;AACxD,aAAO0G,EAAS,KAAM1G,CAAG,KAAM;AAAA,IAChC,GACDsH,IAAwB,SAAWtH,GAAM;AACvC,aAAO,OAAOA,CAAG,MAAMA;AAAA,IACxB,GACDuH,IAAwB,SAAWC,GAAI;AACrC,aAAO,OAAOA,KAAK;AAAA,IACpB,GACDC,IAAwB,SAAWC,GAAK;AACtC,aAAOhB,EAAS,KAAMgB,CAAE,KAAM;AAAA,IAC/B,GACDC,IAAwB,CAAE,GAC1BC,IAAwB,CAAE,GAC1BC,KAAwB;AAAA;AAAA,MAEtB,SAAU,SAAUC,GAAaC,GAAe;AAC9C,eAAKA,EAAa,WAChBD,EAAY,UAAaC,EAAc,CAAC,IAEnCD;AAAA,MACR;AAAA,IACF,GACDE,IACAC;AAGF,aAASC,GAAcC,GAAa;AAElC,aAAS,CAAEA,KAAcA,KAAc,YAAYA,KAAc,cAAcA,KAAc;AAAA,IAC9F;AAKD,aAASC,GAAWC,GAAKC,GAAIC,GAAOC,GAA4B/G,GAAKgH,GAAW;AAC9E,UAAI9D,IAAS0B,EAAI,cAAe,QAAU,GACtCqC,GAAMnI;AAEV,MAAAiI,IAAUA,KAAWP,EAAQ,cAE7BtD,EAAO,MAAM0D;AAGb,WAAM9H,KAAKgI;AACP,QAAA5D,EAAO,aAAcpE,GAAGgI,EAAOhI,CAAG,CAAA;AAGtC,MAAA+H,IAAKG,IAAWE,IAAiBL,KAAMzB,GAGvClC,EAAO,qBAAqBA,EAAO,SAAS,WAAY;AAEtD,QAAK,CAAE+D,KAAQR,GAAavD,EAAO,UAAU,MAG3C+D,IAAO,GACPJ,KAGA3D,EAAO,SAASA,EAAO,qBAAqB;AAAA,MAEtD,GAGM6B,EAAS,WAAY;AACnB,QAAOkC,MACLA,IAAO,GAEPJ,EAAG,CAAC;AAAA,MAEP,GAAEE,CAAO,GAKV/G,IAAMkD,EAAO,WAAW8B,EAAY,WAAW,aAAc9B,GAAQ8B;IACtE;AAGD,aAASmC,GAAYC,GAAMP,GAAIC,GAAOC,GAA4B/G,GAAKgH,GAAW;AAG7E,UAACK,IAAOzC,EAAI,cAAe,MAAM,GAC1B9F;AAEV,MAAAiI,IAAUA,KAAWP,EAAQ,cAE7BK,IAAKG,IAAWE,IAAiBL,KAAMzB,GAGvCiC,EAAK,OAAOD,GACZC,EAAK,MAAO,cACZA,EAAK,OAAO;AAGZ,WAAMvI,KAAKgI;AACT,QAAAO,EAAK,aAAcvI,GAAGgI,EAAOhI,CAAG,CAAA;AAGlC,MAAOkB,MACLgF,EAAY,WAAW,aAAcqC,GAAMrC,CAAW,GACtDD,EAAS8B,GAAI,CAAC;AAAA,IAEjB;AAED,aAASK,IAAiB;AAExB,UAAIpI,IAAMoG,EAAU;AACpB,MAAAC,IAAU,GAGLrG,IAEEA,EAAE,IAGLiG,EAAU,WAAY;AACpB,SAACjG,EAAE,KAAQ,MAAO0H,EAAQ,YAAeA,EAAQ,UAAc1H,EAAE,GAAM,GAAGA,EAAE,GAAMA,EAAE,GAAMA,EAAE,GAAM;MACnG,GAAE,CAAC,KAIJA,KACAoI,OAKF/B,IAAU;AAAA,IAEb;AAED,aAASmC,GAAcC,GAAMtE,GAAKuE,GAAMC,GAAaC,GAAUC,GAASZ,GAAU;AAEhF,MAAAA,IAAUA,KAAWP,EAAQ;AAG7B,UAAIoB,IAAchD,EAAI,cAAe2C,CAAM,GACvCN,IAAc,GACdY,IAAc,GACdC,IAAc;AAAA,QACZ,GAAKN;AAAA;AAAA,QACL,GAAKvE;AAAA;AAAA;AAAA,QAEL,GAAKyE;AAAA;AAAA,QACL,GAAKC;AAAA,QACL,GAAKZ;AAAA,MACjB;AAGM,MAAKZ,EAAalD,CAAK,MAAK,MAC1B4E,IAAY,GACZ1B,EAAalD,CAAK,IAAG;AAGvB,eAAS8E,EAASC,GAAQ;AAExB,YAAK,CAAEf,KAAQR,GAAamB,EAAY,UAAU,MAGhDE,EAAY,IAAOb,IAAO,GAE1B,CAAE9B,KAAW+B,KAGbU,EAAY,SAASA,EAAY,qBAAqB,MACjDI,IAAQ;AACX,UAAKT,KAAQ,SACXxC,EAAS,WAAU;AAAE,YAAAQ,EAAa,YAAaqC,CAAa;AAAA,UAAA,GAAI,EAAE;AAGpE,mBAAU9I,KAAKqH,EAAalD;AAC1B,YAAKkD,EAAalD,CAAG,EAAG,eAAgBnE,CAAC,KACvCqH,EAAalD,CAAK,EAAEnE,CAAG,EAAC,OAAM;AAAA,QAGnC;AAAA,MAEJ;AAID,MAAKyI,KAAQ,WACXK,EAAY,OAAO3E,KAEnB2E,EAAY,MAAM3E,GAGlB2E,EAAY,OAAOL,IAIrBK,EAAY,QAAQA,EAAY,SAAS,KAGzCA,EAAY,UAAUA,EAAY,SAASA,EAAY,qBAAqB,WAAU;AACpF,QAAAG,EAAO,KAAK,MAAMF,CAAS;AAAA,MACnC,GAGM3C,EAAU,OAAQuC,GAAa,GAAGK,CAAW,GAMxCP,KAAQ,UAENM,KAAa1B,EAAalD,CAAG,MAAO,KACvCsC,EAAa,aAAcqC,GAAatC,IAAe,OAAON,CAAW,GAIzED,EAAUgD,GAAQhB,MAIlBZ,EAAalD,CAAG,EAAG,KAAM2E,CAAW;AAAA,IAGzC;AAED,aAASK,GAAOC,GAAUV,GAAME,GAAUC,GAASZ,GAAU;AAG3D,aAAA5B,IAAU,GAGVqC,IAAOA,KAAQ,KACV1B,EAAUoC,KAEbZ,GAAaE,KAAQ,MAAM7B,KAAaD,GAAWwC,GAAUV,GAAM,KAAK,KAAQE,GAAUC,GAASZ,CAAO,KAG1G7B,EAAU,OAAQ,KAAK,KAAQ,GAAGgD,IAClChD,EAAU,UAAU,KAAKgC,MAIpB;AAAA,IACR;AAGD,aAASiB,KAAc;AACrB,UAAIC,IAAI5B;AACR,aAAA4B,EAAE,SAAY;AAAA,QACZ,MAAQH;AAAA,QACR,GAAM;AAAA,MACd,GACaG;AAAA,IACR;AAID,IAAA5B,IAAU,SAAW6B,GAAQ;AAE3B,UAAIvJ,GACAwJ,GAEAC,IAAQ,OAAO,QAAW;AAE9B,eAASC,EAAkBvF,GAAM;AAE/B,YAAIwF,IAAUxF,EAAI,MAAO,GAAK,GAC9ByF,IAAUxC,EAAc,QACxByC,IAAUF,EAAM,IAAK,GACrBG,IAAUH,EAAM,QAChBI,IAAU;AAAA,UACR,KAAaF;AAAA;AAAA,UAEb,SAAaA;AAAA,UACb,UAAaF;AAAA,QACd,GACDK,GACAjJ,GACAyG;AAIA,aAAMzG,IAAI,GAAGA,IAAI+I,GAAM/I;AACrB,UAAAyG,IAAemC,EAAO5I,CAAG,EAAC,MAAO,GAAG,GACpCiJ,IAAQ1C,GAAUE,EAAa,MAAO,CAAA,GACjCwC,MACHD,IAAMC,EAAOD,GAAKvC;AAKtB,aAAMzG,IAAI,GAAGA,IAAI6I,GAAM7I;AACrB,UAAAgJ,IAAM3C,EAAerG,CAAG,EAAEgJ,CAAG;AAI/B,eAAOA;AAAA,MACR;AAED,eAASE,EAAe9F,GAAM;AAC1B,eAAOA,EAAI,MAAM,GAAG,EAAE,IAAK,EAAC,MAAM,GAAG,EAAE;MAC1C;AAED,eAAS+F,EAAoBC,GAAOzH,GAAU+G,GAAOxH,GAAOmI,GAAa;AAEpE,YAAChB,IAAeM,EAAiBS,IAChCE,IAAejB,EAAS;AAI5B,YAHmBa,EAAcb,EAAS,GAAS,GAG9C,CAAAA,EAAS,QAcd;AAAA,cATK1G,MACHA,IAAWwE,EAAYxE,CAAU,IAC/BA,IACAA,EAAUyH,CAAO,KACjBzH,EAAUT,CAAO,KACjBS,EAAYyH,EAAM,MAAO,KAAM,MAAM,MAAO,GAAG,EAAI,CAAC,KAInDf,EAAS;AACZ,mBAAOA,EAAS,QAAYe,GAAOzH,GAAU+G,GAAOxH,GAAOmI;AAI3D,UAAK/C,EAAa+B,EAAS,OAEzBA,EAAS,SAAY,KAGrB/B,EAAa+B,EAAS,GAAM,IAAK,GAInCK,EAAM,KAAML,EAAS,KAAYA,EAAS,YAAiB,CAAEA,EAAS,WAAuBa,EAAcb,EAAS,GAAM,KAAtC,QAAiD,MAAMrD,GAAOqD,EAAS,QAAWA,EAAS,OAAUA,EAAS,OAAU,IAGvMlC,EAAYxE,CAAQ,KAAMwE,EAAYmD,CAAY,MAErDZ,EAAM,KAAS,WAAY;AAEzB,YAAAJ,MAEA3G,KAAYA,EAAU0G,EAAS,SAAYgB,GAAYnI,IACvDoI,KAAgBA,EAAcjB,EAAS,SAAYgB,GAAYnI,IAG/DoF,EAAa+B,EAAS,GAAM,IAAK;AAAA,UAC/C;;MAGO;AAED,eAASkB,EAAqBC,GAAYd,GAAQ;AAC9C,YAAIW,IAAa,CAAC,CAAEG,EAAW,MAC3BC,IAAaJ,IAAaG,EAAW,MAASA,EAAW,MACzDE,IAAaF,EAAW,QAAWA,EAAW,MAC9C7H,IAAa6H,EAAW,YAAejE,GACvCoE,IAAahI,GACbiI,IAAaJ,EAAW,YAAejE,GACvCsE,GACAC;AAKJ,iBAASC,GAAcC,GAAWC,GAAa;AAC7C,cAAK,CAAED;AAEL,aAAEC,KAAcL;mBAGR3D,EAAU+D;AAElB,YAAMC,MAEJtI,IAAW,WAAY;AACrB,kBAAIxD,IAAO,CAAE,EAAC,MAAM,KAAM,SAAS;AACnC,cAAAwL,EAAM,MAAO,MAAMxL,IACnByL;YAClB,IAGcT,EAAmBa,GAAWrI,GAAU+G,GAAO,GAAGW,CAAU;AAAA,mBAKpDrD,EAAUgE,IAAc;AAEhC,YAAAH,IAAiB,WAAU;AACzB,kBAAIK,IAAQ,GAAGjL;AACf,mBAAKA,KAAK+K;AACR,gBAAKA,EAAU,eAAgB/K,MAC7BiL;AAGJ,qBAAOA;AAAA,YACvB;AAEc,iBAAMJ,KAAeE;AAInB,cAAKA,EAAU,eAAgBF,OAExB,CAAEG,KAAc,CAAI,EAAEJ,MAElB1D,EAAYxE,KAYjBA,IAAW,WAAY;AACrB,oBAAIxD,IAAO,CAAE,EAAC,MAAM,KAAM,SAAS;AACnC,gBAAAwL,EAAM,MAAO,MAAMxL,IACnByL;cACxB,IAdsBjI,EAAUmI,CAAW,IAAM,SAAUK,GAAU;AAC7C,uBAAO,WAAY;AACjB,sBAAIhM,IAAO,CAAE,EAAC,MAAM,KAAM,SAAS;AACnC,kBAAAgM,KAAWA,EAAQ,MAAO,MAAMhM,CAAI,GACpCyL;gBAC1B;AAAA,cACA,EAA0BD,EAAOG,CAAW,KAW1BX,EAAmBa,EAAWF,CAAa,GAAEnI,GAAU+G,GAAOoB,GAAaT;UAGhF;AAAA,QACF;AAGD,QAAAU,GAAaN,GAAO,CAAC,CAACC,IAItBA,KAAUK,GAAaL;MAC1B;AAGD,UAAKzD,EAAUuC;AACb,QAAAW,EAAmBX,GAAO,GAAGE,GAAO,CAAC;AAAA,eAG7B3C,GAASyC;AAEjB,aAAKvJ,IAAI,GAAGA,IAAIuJ,EAAM,QAAQvJ;AAC5B,UAAAwJ,IAAOD,EAAOvJ,IAGTgH,EAAUwC,KACbU,EAAmBV,GAAM,GAAGC,GAAO,CAAC,IAG5B3C,GAAS0C,KACjB9B,EAAS8B,CAAI,IAGLzC,EAAUyC,MAClBc,EAAoBd,GAAMC;;AAK3B,QAAK1C,EAAUwC,MAClBe,EAAoBf,GAAOE;IAEnC,GAYI/B,EAAQ,YAAe,SAAWyD,GAAQzI,GAAW;AACnD,MAAA4E,GAAU6D,CAAQ,IAAGzI;AAAA,IAC3B,GAUIgF,EAAQ,YAAe,SAAW0D,GAAS;AACzC,MAAAhE,EAAc,KAAMgE;IAC1B,GAGI1D,EAAQ,eAAkB,KAKrB5B,EAAI,cAAc,QAAQA,EAAI,qBAEjCA,EAAI,aAAa,WAEjBA,EAAI,iBAAkB,oBAAoB2B,KAAU,WAAY;AAE9D,MAAA3B,EAAI,oBAAqB,oBAAoB2B,IAAS,CAAC,GAEvD3B,EAAI,aAAa;AAAA,IAClB,GAAE,CAAC,IAKN,OAAO,UAAauD,MAGpB,OAAO,QAAW,eAAkBjB,GACpC,OAAO,QAAW,WAAcP,IAChC,OAAO,QAAW,YAAeQ;AAAA,EAClC;AAEH,GAAG;"}