{"version":3,"file":"axlib-v3.min.js","sources":["../lib/main.js"],"sourcesContent":["/**\n * \n * AxLib\n * \n * Author: WaveF\n * QQ: 298010937\n * \n **/\n\n(function(){\n\n  main();\n\n  function main() {\n    if (!window.$axure || !window.jQuery) {\n      console.log('请先加载 $axure 和 jquery!');\n      return;\n    }\n\n    initYepNope();\n    utils();\n    InitAxlib();\n\n    window.jsonbin = getJsonBinClass();\n    window.getEl = getEl;\n    window.AXLIB = window.axlib = {\n      name: 'axlib',\n      version: '3.4.4',\n\n      use, // 加载其他模块\n      layout, // 预设的界面元素显隐及缩放\n      trace, // 显示一段预设样式的文本\n      jsonbin: getJsonBinClass(), // 调用jsonbin v3的方法在线读写数据\n      hosting, // 参数定义同步到哪里，默认是axhub\n      loading, // 插入一个加载动画\n      find, // 便捷提取指定元件名的对象，示例：let els = axlib.find('sym1', 'sym2'...); let { sym1, sym2 } = els;\n      saveTextFile, // 传入字符串与文件名保存文件\n      testExp, // 等待测试表达式的方法\n      loadJsModule, // 以 es module 方式加载 js\n      getEl, // 通过元件名获取元素\n      \n      plugins: getPlugins(),\n      formatRepeaterData: $axure.ex.formatRepeaterData,\n      setGlobalVar: $axure.setGlobalVariable,\n      getGlobalVar: $axure.getGlobalVariable,\n      getOverlapData: $axure.getOverlapData,\n      getDiffData: $axure.getDiffData,\n    };\n  }\n\n  function InitAxlib() {\n    $axure.ex = { fn: {} };\n\n    // _showMsg = new Function( 'return ' + top.$axure.messageCenter.dispatchMessageRecursively.toString() );\n\n    $axure.getEl = (...args) => {\n      let arr = [];\n      args.forEach(name => {\n        arr.push($axure(`@${name}`));\n      });\n      const result = arr.length === 1 ? arr[0] : arr;\n      return result;\n    };\n\n    // 改写并拓展Axure的私有对象\n    $axure.internal(function ($ax) {\n\n      /**\n       * 增强中继器相关方法\n       * 注：仅支持单个操作，要确保每个元素都有不同ID，就可以用循环逐个修改\n       */\n\n      // 刷新数据（要定义在最前面，因为后面会引用到）\n      $axure.ex.refreshRepeater = $ax.repeater.refreshRepeater;\n      $ax.public.fn.refreshRepeater = function () {\n        let elementId = this.getElementIds()[0];\n        $axure.ex.refreshRepeater(elementId);\n        return this;\n      };\n      $ax.repeater.refreshRepeater = function(elementId, etc) {\n        $axure.ex.refreshRepeater(...arguments);\n        $(`#${elementId}`).trigger('REPEATER_REFRESH');\n      };\n\n      // 好像是获取行号，从1开始索引，因为后面要用到所以保留\n      $axure.ex.getRepeaterRows = $ax.repeater.getAllItemIds;\n      $ax.public.fn.getRepeaterRows = function () {\n        return $axure.ex.getRepeaterRows(this.getElementIds()[0]);\n      };\n\n      // 通过ID获取实例\n      $axure.ex.getRepeater = function (elementId) {\n        let repeater;\n        $axure(function (obj) {\n          return obj.type == 'repeater';\n        }).each(function (obj, id) {\n          if (id == elementId) {\n            repeater = obj;\n          }\n        });\n        return repeater;\n      };\n\n      // 格式化数据\n      $axure.ex.formatRepeaterData = function(data, options) {\n        // 根据 options 参数对数据进行格式化\n        options = options || { format:'auto', key:undefined, trim:undefined };\n\n        let trim = options.trim;\n        let format = options['format'].toLowerCase();\n        let newData;\n\n        // 自动模式，以\"键:值\"配对形式返回数据\n        if (format === 'default') {\n          newData = data;\n        } else if (format === 'auto') {\n          let arr = [];\n          for (let i = 0; i < data.length; i++) {\n            let item = data[i];\n            let obj = {};\n            for (let k in item) {\n              obj[k] = item[k].text;\n            }\n            arr.push(obj);\n          }\n          newData = arr;\n        }\n        \n        // 行模式，横向获取数据，支持trim获取第1位数据\n        else if (format === 'row') {\n          let result = {};\n          for (let i = 0; i < data.length; i++) {\n            let item = data[i];\n            let obj = {};\n            let key = Object.values(item)[0].text;\n            let val = [];\n            for (let k in item) {\n              let sub = item[k];\n              if (sub.text != key) {\n                val.push(sub.text);\n              }\n            }\n\n            if (trim === undefined) { trim = false; }\n            if (trim) { val = val[0]; }\n            obj[key] = val;\n            $.extend(result, obj);\n          }\n          newData = result;\n        }\n        \n        // 列模式，纵向获取数据\n        else if (format === 'column' || format === 'col') {\n          let obj = {};\n          for (let i = 0; i < data.length; i++) {\n            let item = data[i];\n            for (k in item) {\n              if (!obj[k]) {\n                obj[k] = [item[k].text];\n              } else {\n                obj[k].push(item[k].text);\n              }\n            }\n          }\n          newData = obj;\n        }\n        \n        // 键模式，以某个键值来获取数据\n        else if (format === 'key') {\n          if (!options.key) {\n            console.log('未提供Key名，将不会进行格式化...');\n            newData = data;\n          } else {\n            let result = {};\n            let pKey = options.key;\n            for (let i = 0; i < data.length; i++) {\n              let item = data[i];\n              let key = item[pKey].text;\n              let val = [];\n              let obj = {};\n              for (let k in item) {\n                if (k != pKey) {\n                  val.push(item[k].text);\n                }\n              }\n              if (options.first) { val = val[0]; }\n              obj[key] = val;\n              $.extend(result, obj);\n            }\n            newData = result;\n          }\n        }\n\n        // 树模式，适合用来做树形菜单，支持trim清理空数据\n        else if (format === 'tree') {\n          let arr = [];\n          for (let i = 0; i < data.length; i++) {\n            let item = data[i];\n            let obj = {};\n            for (let k in item) { obj[k] = item[k].text; }\n            arr.push(obj);\n          }\n          newData = tree(arr);\n          if (trim === undefined) { trim = true; }\n          options.trim && trimTreeData(newData);\n        } else {\n          trace(`未注册的格式化参数: ${format}，请使用此定义 { format: 'auto' || 'row' || 'column' || 'tree' || 'key' } ，其中 key 模式需额外提供索引键列名称.`);\n          newData = data;\n        }\n        return newData;\n      }\n      $axure.formatRepeaterData = $axure.ex.formatRepeaterData;\n\n      // 获取数据\n      $axure.ex.getRepeaterData = function (elementId) {\n        let ids = $ax.repeater.getAllItemIds(elementId);\n        let columns = $axure.ex.getRepeater(elementId).dataProps;\n        let rows = [];\n        for (let i = 0, il = ids.length; i < il; i++) {\n          let row = {};\n          for (let j = 0, jl = columns.length; j < jl; j++) {\n            let name = columns[j].toLowerCase();\n            let id = ids[i];\n            if ((typeof (id) == 'string') && (id.indexOf('-') != -1))\n              id = $ax.repeater.getItemIdFromElementId(id);\n            let value = $ax.repeater.getData({}, elementId, ids[i], name, 'data');\n            if (typeof (value) == 'object') {\n              value = $ax.deepCopy(value);\n              if (value.type === undefined) {\n                value.type = 'text';\n              }\n              row[name] = value;\n            } else {\n              row[name] = {\n                type: 'text',\n                text: value\n              };\n            }\n          }\n          rows.push(row);\n        }\n        return rows;\n      };\n      $ax.public.fn.getRepeaterData = function (options) {\n        let elementId = this.getElementIds()[0];\n        let data = $axure.ex.getRepeaterData(elementId);\n        data = $axure.ex.formatRepeaterData(data, options);\n        return data;\n      };\n\n      // 获取初始化数据\n      $axure.ex.getRepeaterDataOnce = function (elementId) {\n        try {\n          var result;\n          // $axure(`#${id}`).refreshRepeater();\n          return window.$axure((function (elementId) {\n              return \"repeater\" === elementId.type\n          })).each((function (obj, id) {\n            elementId === id && (result = obj)\n          })), result.data;\n        } catch (err) {\n            return console.error(\"Error：Can not get repeater data by id \" + err);\n        }\n      };\n      $ax.public.fn.getRepeaterDataOnce = function (options) {\n        let elementId = this.getElementIds()[0];\n        let data = $axure.ex.getRepeaterDataOnce(elementId);\n        data = $axure.ex.formatRepeaterData(data, options);\n        return data;\n      };\n      $axure.ex.getRepeaterInitedData = $axure.ex.getRepeaterDataOnce;\n      $ax.public.fn.getRepeaterInitedData = $ax.public.fn.getRepeaterDataOnce;\n\n      // 获取初始化与交互追加后的差异数据\n      $axure.ex.getRepeaterDataDiff = function (elementId) {\n        let data = $axure.ex.getRepeaterData(elementId);\n        let dataOnce = $axure.ex.getRepeaterDataOnce(elementId);\n        data.splice(0, dataOnce.length);\n        return data;\n      };\n      $ax.public.fn.getRepeaterDataDiff = function (options) {\n        let elementId = this.getElementIds()[0];\n        let diff = $axure.ex.getRepeaterDataDiff(elementId);\n        return $axure.ex.formatRepeaterData(diff, options);\n      };\n\n      // 获取初始化与交互追加后的差异数据\n      $axure.ex.getRepeaterDataSame = function (elementId) {\n        let data = $axure.ex.getRepeaterData(elementId);\n        let dataOnce = $axure.ex.getRepeaterDataOnce(elementId);\n        data.splice(dataOnce.length, data.length);\n        return data;\n      };\n      $ax.public.fn.getRepeaterDataSame = function (options) {\n        let elementId = this.getElementIds()[0];\n        let diff = $axure.ex.getRepeaterDataSame(elementId);\n        return $axure.ex.formatRepeaterData(diff, options);\n      };\n\n      // 追加数据\n      $axure.ex.repeaterAddItem = $ax.repeater.addItem;\n      $axure.ex.addRepeaterData = function (elementId, rows) {\n        let event = { targetElement: undefined, srcElement: undefined };\n        let repeater = $axure.ex.getRepeater(elementId);\n        let columns = repeater.dataProps;\n        let itemDefaultValue = { type: 'text', text: '' };\n\n        for (let i = 0, ilen = rows.length; i < ilen; i++) {\n          let source = rows[i];\n          let target = {};\n          for (let j = 0, jlen = columns.length; j < jlen; j++) {\n            let column = columns[j];\n            let item = source[column];\n\n            if (item === undefined) {\n              item = itemDefaultValue;\n            } else if (!item.hasOwnProperty('type') && !item.hasOwnProperty('text')) {\n              item = { type: 'text', text: item };\n            } else {\n              item = $ax.deepCopy(item);\n            }\n            target[column] = item;\n          }\n          $ax.repeater.addItem(elementId, target, event);\n        }\n      };\n      $ax.public.fn.addRepeaterData = function (rows) {\n        let elementId = this.getElementIds()[0];\n        $axure.ex.addRepeaterData(elementId, rows);\n        $axure.ex.refreshRepeater(elementId);\n        return this;\n      };\n      // 这里会触发原生交互的添加数据\n      $ax.repeater.addItem = function() {\n        let elementId = arguments[0];\n        $axure.ex.repeaterAddItem(...arguments);\n        $(`#${elementId}`).trigger('REPEATER_DATA_ADDED', {...arguments});\n      };\n\n\n      // 移除N行数据\n      $axure.ex.deleteItems = $ax.repeater.deleteItems;\n      $ax.public.fn.deleteRepeaterData = function (rowsCount) {\n        rowsCount = rowsCount || 1;\n        let data = this.getRepeaterData();\n        let newData = data.slice(0, data.length - rowsCount);\n        let elementId = this.getElementIds()[0];\n        $axure.ex.clearRepeaterData(elementId);\n        $axure.ex.addRepeaterData(elementId, newData);\n        $axure.ex.refreshRepeater(elementId);\n        return this;\n      };\n      // 这里会触发原生交互的删除数据\n      $ax.repeater.deleteItems = function() {\n        let elementId = arguments[0];\n        $axure.ex.deleteItems(...arguments);\n        $(`#${elementId}`).trigger('REPEATER_DATA_DELETED', {...arguments});\n      }\n\n\n      // PUSH数据（意义不明）\n      $axure.ex.pushItems = $ax.repeater.pushItems;\n      $ax.repeater.pushItems = function() {\n        let elementId = arguments[0];\n        $axure.ex.pushItems(...arguments);\n        $(`#${elementId}`).trigger('REPEATER_DATA_PUSH', {...arguments});\n      }\n      \n      \n      // 更新数据\n      $axure.ex.updateEditItems = $ax.repeater.updateEditItems;\n      $ax.repeater.updateEditItems = function() {\n        let elementId = arguments[0];\n        $axure.ex.updateEditItems(...arguments);\n        $(`#${elementId}`).trigger('REPEATER_DATA_UPDATED', {...arguments});\n      }\n\n\n      // 获取重叠部分数据\n      $ax.public.fn.getOverlapData = function (extraRawData, format) {\n        let elementId = this.getElementIds()[0];\n        let rep = $axure(`#${elementId}`);\n        let latestRawData = rep.getRepeaterData({format:'default'});\n        let overlapData = getOverlapData(extraRawData, latestRawData);\n        return $axure.ex.formatRepeaterData(overlapData, format);;\n      };\n\n      \n\n      // 设置数据\n      $ax.public.fn.setRepeaterData = function (rows) {\n        let elementId = this.getElementIds()[0];\n        $axure.ex.clearRepeaterData(elementId);\n        $axure.ex.addRepeaterData(elementId, rows);\n        $axure.ex.refreshRepeater(elementId);\n        $(`#${elementId}`).trigger('REPEATER_DATA_SET', {...arguments});\n        return this;\n      };\n      \n      // 清空数据\n      $axure.ex.clearRepeaterData = function (elementId) {\n        let ids = $axure.ex.getRepeaterRows(elementId);\n        $ax.repeater.addEditItems(elementId, ids);\n        $ax.repeater.deleteItems(elementId, {}, 'marked', undefined);\n      };\n      $ax.public.fn.clearRepeaterData = function () {\n        let elementId = this.getElementIds()[0];\n        $axure.ex.clearRepeaterData(elementId);\n        $axure.ex.refreshRepeater(elementId);\n        return this;\n      };\n\n\n      /**\n       * 增强动态面板相关方法\n       * 注：仅支持单个操作，要确保每个元素都有不同ID，就可以用循环逐个修改\n       */\n\n      // 增强动态面板相关方法\n      $axure.ex.getPanelStates = function (elementId) {\n        let result = [];\n        for (let index = 1;; index++) {\n          let element = $('#' + elementId + '_state' + (index - 1));\n          if (!element.length) break;\n          let name = element.attr('data-label');\n          result[index] = name;\n          result[name] = index;\n        }\n        return result;\n      };\n      $ax.public.fn.getPanelStates = function () {\n        let states = $axure.ex.getPanelStates(this.getElementIds()[0]);\n        return states;\n      };\n\n\n      $axure.ex.getCurrentPanelState = function (elementId) {\n        let current;\n        let states = $(`#${elementId}`).children(`.panel_state`);\n        $.each(states, (idx, item) => {\n          if ($(item).css('visibility')!='hidden' && $(item).css('display')!='none') {\n            current = item;\n          }\n        });\n        return current;\n      };\n      $ax.public.fn.getCurrentPanelState = function () {\n        let current = $axure.ex.getCurrentPanelState(this.getElementIds()[0]);\n        return current;\n      };\n\n\n      $axure.ex.setPanelStateByName = function (elementId, stateName, options, showWhenSet) {\n        let states = $axure.ex.getPanelStates(elementId);\n        for (let k = 0; k < states.length; k++) {\n          if (states[k] == stateName) {\n            let stateNum = k;\n            $axure('#' + elementId).SetPanelState(stateNum, options || {}, showWhenSet || false);\n          }\n        }\n      };\n      $ax.public.fn.setPanelStateByName = function (stateName, options, showWhenSet) {\n        let elementId = this.getElementIds()[0];\n        $axure.ex.setPanelStateByName(elementId, stateName, options, showWhenSet);\n        return this;\n      };\n      $ax.public.fn.setPanelStateByIndex = function (index, options, showWhenSet) {\n        let elementId = this.getElementIds()[0];\n        $axure('#' + elementId).SetPanelState(index, options || {}, showWhenSet || false);\n        return this;\n      };\n\n\n      /**\n       * 简化获取ID与节点的方法名\n       */\n      $ax.public.fn.getId = function () {\n        return this.getElementIds()[0];\n      };\n      $ax.public.fn.getEl = function () {\n        return this.getElements()[0];\n      };\n      $axure.find = find;\n\n\n      /**\n       * 修正axure无法获取全局变量的bug\n       */\n      $ax.public.getGlobalVariable = $ax.getGlobalVariable = function (name) {\n        return $ax.globalVariableProvider.getVariableValue(name);\n      };\n\n\n      /**\n       * 添加一些常用样式控制\n       */\n      $ax.public.fn.buttonMode = function (flag) {\n        this.$().css('cursor', flag ? 'pointer' : 'default');\n      };\n      $ax.public.fn.ghostMode = function (flag) {\n        this.$().css('pointer-events', flag ? 'none' : 'auto');\n      };\n\n      \n      /**\n       * 跳转页面或链接\n       */\n      \n      // 设置页面跳转前的Hook\n      // 注：页面载入时没有hook，如果要做载入前的转场动画需要自行处理，因为axlib开始执行的时间始终慢于页面渲染时\n      $axure.ex.redirect = true;\n      $axure.ex.beforeNavFn = function () {};\n      $axure.beforeNav = function (callback) {\n        $axure.ex.beforeNavFn = callback;\n      };\n\n      // 先缓存原本的跳转方法\n      $axure.ex.navigate = $ax.public.navigate;\n\n      // 改写内置的跳转函数\n      $ax.public.navigate = $ax.navigate = function(options) {\n        let stop = flag => { if (flag===undefined) { flag = true; } $axure.ex.redirect = !flag; };\n        $axure.ex.beforeNavFn(options,stop);\n        \n        if (!$axure.ex.redirect) return;\n        $axure.ex.navigate(options);\n      };\n\n      $axure.getOverlapData = getOverlapData;\n      $axure.getDiffData = getDiffData;\n\n    });\n\n  }\n\n  function getNestedValue(obj, key) {\n    return key.split(\".\").reduce(function(result, key) {\n      return result[key] \n    }, obj);\n  }\n\n  function getOverlapData(data1, data2) {\n    /*let arr = [JSON.stringify(data1), JSON.stringify(data2)];\n    arr.sort((a, b) => { return a.length < b.length; });\n    let str1 = arr[0], str2 = arr[1];\n    str1 = str1.substr(1,str1.length-2);\n    str2 = str2.substr(1,str2.length-2);\n    let str = str1.replace(str2, '');\n    str = str.replace(/\\},,\\{/g, '},{');\n    str = `[${str}]`;\n    return JSON.parse(str);*/\n\n    let bigData = data1.length > data2.length ? data1 : data2;\n    let smallData = data1.length < data2.length ? data1 : data2;\n    smallData.forEach((a, i) => {\n      let _a = JSON.stringify(a);\n      bigData.forEach((b, j) => {\n        let _b = JSON.stringify(b);\n        if (_a == _b) { bigData[j] = null; }\n      });\n      bigData = bigData.filter(Boolean);\n    });\n    return bigData;\n  }\n\n  function getDiffData(data1, data2) {\n    // 弃用，会误删相同的数据\n    let diff = data1.concat(data2).map(item => JSON.stringify(item)).filter((value, idx, arr)=>{\n      return arr.indexOf(value) == arr.lastIndexOf(value);\n    });\n    return JSON.parse(`[${diff}]`);\n  }\n\n  function tree(_data) {\n    let scanArr = [];\n    let scanObj = [];\n    let maxLevel = _data.length > 0 ? Object.keys(_data[0]).length : 0;\n\n    const unique = function(arr, obj) {\n      let _arr = [], _obj = [];\n      for(let i=0; i<arr.length; i++) {\n        if ( !_arr.includes( arr[i]) ) {\n          _arr.push( arr[i] );\n          _obj.push( obj[i] );\n        }\n      }\n      return [_arr, _obj];\n    };\n\n    for (let i=0; i<maxLevel; i++) {\n      let cid = `c${i+1}`;\n      let arr = [], obj = [];\n      for (let k in _data) {\n        let item = _data[k];\n        arr.push(item[cid]);\n        obj.push({value:item[cid], label:item[cid], parent:item[`c${i}`], children:[]});\n      }\n      scanArr[i] = unique(arr, obj)[0];\n      scanObj[i] = unique(arr, obj)[1];\n    }\n\n    let len = scanObj.length;\n    for (let i=0; i<len; i++) {\n      let curIdx = len-i-1;\n      let nextIdx = len-i-2;\n      let curItem = scanObj[curIdx];\n      let nextItem = scanObj[nextIdx];\n\n      for (let k in curItem) {\n        let _current = curItem[k];\n        for (let n in nextItem) {\n          let _next = nextItem[n];\n          if (_current.parent == _next.value) {\n            _next.children.push(_current);\n          }\n        }\n      }\n    }\n\n    for (let t=0; t<scanObj[0].length; t++) {\n      delete scanObj[0][t].parent;\n    }\n    \n    return scanObj[0];\n  }\n\n  function trimTreeData(arr) {\n    for (let i=0; i<arr.length; i++) {\n      let item = arr[i];\n      if (item.children.length > 0) {\n        if (item.children.length == 1 && !item.children[0].value) {\n          delete item.children;\n        } else {\n          trimTreeData(item.children);\n        }\n      } else if (item.children && item.children.length == 0) {\n        delete item.children;\n      }\n    }\n  }\n\n  function loadJsModule(url, callback) {\n    let script = document.createElement('script');\n    script.onload = callback || function(){};\n    script.setAttribute('type', 'module');\n    script.setAttribute('src', url);\n    document.querySelector('body').appendChild(script);\n  }\n\n  function testExp() {\n    console.error('axlib.testExp() 已弃用');\n  }\n\n  function saveTextFile(str, fileName) {\n    str = str || 'axlib';\n    fileName = fileName || 'text.txt';\n    const blob = new Blob([str], { type: 'application/json;charset=utf-8' });\n    const objectURL = URL.createObjectURL(blob);\n\n    const anchor = document.createElement('a');\n    anchor.href = objectURL;\n    anchor.download = fileName;\n    anchor.click();\n\n    URL.revokeObjectURL(objectURL);\n  }\n\n  function find () {\n    let args = [...arguments];\n    let obj = {};\n    for (let i = 0; i < args.length; i++) {\n      let name = args[i];\n      let el = $axure('@' + name);\n      if (el.$().length > 0) {\n        obj[name] = el;\n      }\n    }\n    return obj;\n  }\n\n  function loading(container, show, options) {\n    options = options || { color:'#fff', opacity:0.2, scale:1.2, delay:0, dur:1, blending:'difference' };\n    if (show === undefined) { show = true; }\n    let display = show ? 'block' : 'none';\n\n    let svg = `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" stroke=\"${options.color}\" style=\"transform:scale(${options.scale});\">\n        <g fill=\"none\" fill-rule=\"evenodd\">\n          <g transform=\"translate(1 1)\" stroke-width=\"2\">\n            <circle stroke-opacity=\"${options.opacity}\" cx=\"18\" cy=\"18\" r=\"18\"/>\n            <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n              <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 18 18\" to=\"360 18 18\" dur=\"${options.dur}s\" repeatCount=\"indefinite\"/>\n            </path>\n          </g>\n        </g>\n      </svg>\n    `;\n    svg = svg.minify();\n\n    if (!window.$axure.loadingCSSRulesInited) {\n      $('head').append(`\n        <style>\n          html, body { height: 100%; }\n          .ax-loading { display:${display}; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: transparent; z-index: 99999; mix-blend-mode:${options.blending}; pointer-events:none; transform: scale(.5); }\n          .ax-loading-svg { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }\n        </style>\n      `);\n      window.$axure.loadingCSSRulesInited = true;\n    }\n\n    if ($(container).children('.ax-loading').length === 0) {\n      $(container).append(`<div class=\"ax-loading\"><div class=\"ax-loading-svg\">${svg}</div></div>`);\n    }\n    return $(container).children('.ax-loading').get(0);\n  }\n\n  function hosting(cloud) {\n    cloud = cloud || 'axhub';\n    if (cloud == 'axhub') {\n      let btnUpload = $('#axhub-rp9-root a i', top.document);\n      if (btnUpload.length === 0) {\n        trace('无法同步, 你需要先为浏览器安装axhub插件!');\n      } else {\n        btnUpload.click();\n      }\n    }\n  }\n\n  function trace() {\n    console.group('%cAXLIB', 'color:#fff; font-weight:bold; background:#08f; padding:4px 8px; border-radius:3px;');\n    console.log(...arguments);\n    console.groupEnd();\n  }\n\n  function layout(mode) {\n    if (self == top) return;\n    mode = mode !== undefined ? mode : 0;\n\n    let _mode = {\n      hotspots: false,\n      notes: false,\n      scale: [0, 1, 2][1],\n      console: false,\n      sitemap: false,\n      minimal: false,\n      website: true\n    };\n\n    setTimeout(() => {\n      let shell = window.parent.document;\n      let hash = shell.location.hash;\n\n      if (mode > 0) {\n        if (hash.indexOf('&fn=0') < 0) {\n          $(shell).find('#showNotesOption').click();\n        }\n        if (hash.indexOf('&hi=1') > -1) {\n          $(shell).find('#showHotspotsOption').click();\n        }\n      }\n\n      if (mode === 0) {\n        $(shell).find('#maximizePanelContainer').show();\n        $(shell).find(`.vpScaleOption[val=\"0\"]`).click();\n      } else if (mode === 1) {\n        $(shell).find(`.vpScaleOption[val=\"0\"]`).click();\n        $(shell).find('#interfaceControlFrameMinimizeContainer').click();\n        $(shell).find('#maximizePanelContainer').hide();\n      } else if (mode === 2) {\n        $(shell).find(`.vpScaleOption[val=\"1\"]`).click();\n        $(shell).find('#interfaceControlFrameMinimizeContainer').click();\n        $(shell).find('#maximizePanelContainer').hide();\n      } else if (mode === 3) {\n        $(shell).find(`.vpScaleOption[val=\"2\"]`).click();\n        $(shell).find('#interfaceControlFrameMinimizeContainer').click();\n        $(shell).find('#maximizePanelContainer').hide();\n      }\n    }, 0);\n  }\n\n  function use() {\n    console.error('axlib.use() 已弃用');\n  }\n\n  function getJsonBinClass() {\n    class jsonbin {\n      _id = '';\n      _apiKey = '';\n      _accessKey = '';\n\n      constructor(id) {\n          this._id = id;\n      }\n\n      get id() {\n          return this._id;\n      }\n\n      set id(id) {\n          this._id = id;\n      }\n\n      get apiKey() {\n          return this._apiKey;\n      }\n\n      set apiKey(key) {\n          this._apiKey = key;\n      }\n\n      get accessKey() {\n          return this._accessKey;\n      }\n\n      set accessKey(key) {\n          this._accessKey = key;\n      }\n\n      read() {\n          const binId = this._id;\n          const binVersion = 'latest';\n\n          return fetch(`https://api.jsonbin.io/v3/b/${binId}/${binVersion}`, {\n              headers: {\n                  'Content-Type': 'application/json',\n                  'X-Access-Key': this._accessKey,\n              }\n          })\n          .then(response => response.json())\n          .catch(error => { console.error(error); });\n      }\n\n      update(data) {\n          const binId = this._id;\n\n          return fetch(`https://api.jsonbin.io/v3/b/${binId}`, {\n              method: 'PUT',\n              headers: {\n                  'Content-Type': 'application/json',\n                  // 'X-Access-Key': this._accessKey,\n              },\n              body: JSON.stringify(data)\n          })\n          .then(response => response.json())\n          .catch(error => { console.error(error); });\n      }\n\n      create(_name, _private=false) {\n          // if (this._id) {\n          //     return new Promise((resolve, reject) => {\n          //         resolve({id:this._id});\n          //     });\n          // }\n\n          const headers = {\n              'Content-Type': 'application/json',\n              'X-Bin-Private': _private,\n          };\n\n          if (this._apiKey != '') {\n              headers['X-Master-Key'] = this._apiKey;\n          }  \n\n          if (this._accessKey != '' && this._apiKey == '') {\n              headers['X-Access-Key'] = this._accessKey;\n          }        \n\n          if (_name) {\n              headers['X-Bin-Name'] = _name;\n          }\n\n          return fetch(`https://api.jsonbin.io/v3/b`, {\n              method: 'POST',\n              headers,\n              body: JSON.stringify({foo:'bar'})\n          })\n          .then(response => response.json())\n          .catch(error => { console.error(error); });\n      }\n\n      delete(binId=this._id) {\n          const headers = {};\n\n          if (this._apiKey != '') {\n              headers['X-Master-Key'] = this._apiKey;\n          }  \n\n          if (this._accessKey != '' && this._apiKey == '') {\n              headers['X-Access-Key'] = this._accessKey;\n          }\n\n          return fetch(`https://api.jsonbin.io/v3/b/${binId}`, {\n              method: 'DELETE',\n              headers,\n          })\n          .then(response => response.json())\n          .catch(error => { console.error(error); });\n      }\n    }\n\n    return jsonbin\n  }\n\n  function utils() {\n    // 增加一个将字符串去除换行符的方法\n    Object.defineProperty(String.prototype, 'minify', {\n      enumerable: false,\n      configurable: true,\n      value: function () {\n        return this.replace(/ *[\\r|\\n] */gm, '')\n      }\n    });\n\n\n    /**\n     * 拓展 JQuery\n     */\n\n    // 增加一个判断变量是否符合 JSON 格式的方法\n    $.isJSON = function (str) {\n      try {\n        if (typeof JSON.parse(str) == \"object\") {\n          return true;\n        }\n      } catch (e) {}\n      return false;\n    };\n\n    // 增加一个判断 DOM 元素是否存在 Attribute 属性的方法\n    $.fn.extend({\n      'hasAttr': name => {\n        let _attr = $(this).attr(name);\n        if (typeof _attr !== typeof undefined && _attr !== false) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    });\n\n    $.getEl = getJqEl;\n  }\n\n  function getJqEl(...args) {\n    let arr = [];\n    args.forEach(name => {\n      arr.push($(`[data-label=\"${name}\"]`));\n    });\n    const result = arr.length === 1 ? arr[0] : arr;\n    return result;\n  }\n\n  function getEl(...args) {\n    let arr = [];\n    args.forEach(name => {\n      arr.push(document.querySelector(`[data-label=\"${name}\"]`));\n    });\n    const result = arr.length === 1 ? arr[0] : arr;\n    return result;\n  }\n\n  function getPlugins() {\n    return {\n      toast: {\n        vars: '$.toast',\n        files: [\n          'https://ax.minicg.com/plugins/toast/jquery.toast.min.css',\n          'https://ax.minicg.com/plugins/toast/jquery.toast.min.js'\n        ]\n      },\n      toastify: {\n        vars: 'Toastify',\n        files: [\n          'https://ax.minicg.com/plugins/toastify/toastify-all.min.js'\n        ]\n      },\n      swal2: {\n        vars: 'Swal',\n        files: [\n          'https://ax.minicg.com/plugins/swal2/bootstrap-4.min.css',\n          'https://ax.minicg.com/plugins/swal2/sweetalert2.min.js'\n        ]\n      },\n      keepfit: {\n        vars: 'keepfit',\n        files: [\n          'https://ax.minicg.com/plugins/keepfit/keepfit.min.js'\n        ]\n      },\n      aframe: {\n        vars: 'aframe',\n        files: [\n          'https://ax.minicg.com/aframe-130.min.js',\n        ]\n      },\n      preload: {\n        vars: 'preload',\n        files: [\n          'https://ax.minicg.com/preloadjs.min.js',\n        ]\n      },\n      pico: {\n        vars: 'pico',\n        files: [\n          'https://ax.minicg.com/pico.min.css',\n        ]\n      },\n      crypto: {\n        vars: 'crypto',\n        files: [\n          'https://ax.minicg.com/crypto-js.min.js',\n        ]\n      },\n      faker: {\n        vars: 'faker',\n        files: [\n          'https://ax.minicg.com/faker.min.js',\n        ]\n      },\n      tailwind: {\n        vars: 'tailwind',\n        files: [\n          'https://ax.minicg.com/tailwind.min.css',\n          'https://ax.minicg.com/tailwindcss-jit-cdn.umd.min.js',\n        ]\n      },\n      echarts: {\n        vars: 'echarts',\n        files: [\n          'https://ax.minicg.com/echarts.min.js',\n          'https://ax.minicg.com/echarts-gl.min.js',\n        ]\n      },\n      tweakpane: {\n        vars: 'Tweakpane',\n        files: [\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-plugin-essentials.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-plugin-rotation.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-textarea-plugin.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-plugin-camerakit.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-plugin-image.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-plugin-infodump.min.js',\n          'https://ax.minicg.com/plugins/tweakpane/tweakpane-plugin-profiler.min.js',\n        ]\n      },\n    }\n  }\n\n  function initYepNope () {\n    var doc = document,\n      undef,\n      docElement            = doc.documentElement,\n      sTimeout              = window.setTimeout,\n      firstScript           = doc.getElementsByTagName( \"script\" )[ 0 ],\n      toString              = {}.toString,\n      execStack             = [],\n      started               = 0,\n      noop                  = function () {},\n      // Before you get mad about browser sniffs, please read:\n      // https://github.com/Modernizr/Modernizr/wiki/Undetectables\n      // If you have a better solution, we are actively looking to solve the problem\n      isGecko               = ( \"MozAppearance\" in docElement.style ),\n      isGeckoLTE18          = isGecko && !! doc.createRange().compareNode,\n      insBeforeObj          = isGeckoLTE18 ? docElement : firstScript.parentNode,\n      // Thanks to @jdalton for showing us this opera detection (by way of @kangax) (and probably @miketaylr too, or whatever...)\n      isOpera               = window.opera && toString.call( window.opera ) == \"[object Opera]\",\n      isIE                  = !! doc.attachEvent && !isOpera,\n      strJsElem             = isGecko ? \"object\" : isIE  ? \"script\" : \"img\",\n      strCssElem            = isIE ? \"script\" : strJsElem,\n      isArray               = Array.isArray || function ( obj ) {\n        return toString.call( obj ) == \"[object Array]\";\n      },\n      isObject              = function ( obj ) {\n        return Object(obj) === obj;\n      },\n      isString              = function ( s ) {\n        return typeof s == \"string\";\n      },\n      isFunction            = function ( fn ) {\n        return toString.call( fn ) == \"[object Function]\";\n      },\n      globalFilters         = [],\n      scriptCache           = {},\n      prefixes              = {\n        // key value pair timeout options\n        timeout : function( resourceObj, prefix_parts ) {\n          if ( prefix_parts.length ) {\n            resourceObj['timeout'] = prefix_parts[ 0 ];\n          }\n          return resourceObj;\n        }\n      },\n      handler,\n      yepnope;\n\n    /* Loader helper functions */\n    function isFileReady ( readyState ) {\n      // Check to see if any of the ways a file can be ready are available as properties on the file's element\n      return ( ! readyState || readyState == \"loaded\" || readyState == \"complete\" || readyState == \"uninitialized\" );\n    }\n\n\n    // Takes a preloaded js obj (changes in different browsers) and injects it into the head\n    // in the appropriate order\n    function injectJs ( src, cb, attrs, timeout, /* internal use */ err, internal ) {\n      var script = doc.createElement( \"script\" ),\n          done, i;\n\n      timeout = timeout || yepnope['errorTimeout'];\n\n      script.src = src;\n\n      // Add our extra attributes to the script element\n      for ( i in attrs ) {\n          script.setAttribute( i, attrs[ i ] );\n      }\n\n      cb = internal ? executeStack : ( cb || noop );\n\n      // Bind to load events\n      script.onreadystatechange = script.onload = function () {\n\n        if ( ! done && isFileReady( script.readyState ) ) {\n\n          // Set done to prevent this function from being called twice.\n          done = 1;\n          cb();\n\n          // Handle memory leak in IE\n          script.onload = script.onreadystatechange = null;\n        }\n      };\n\n      // 404 Fallback\n      sTimeout(function () {\n        if ( ! done ) {\n          done = 1;\n          // Might as well pass in an error-state if we fire the 404 fallback\n          cb(1);\n        }\n      }, timeout );\n\n      // Inject script into to document\n      // or immediately callback if we know there\n      // was previously a timeout error\n      err ? script.onload() : firstScript.parentNode.insertBefore( script, firstScript );\n    }\n\n    // Takes a preloaded css obj (changes in different browsers) and injects it into the head\n    function injectCss ( href, cb, attrs, timeout, /* Internal use */ err, internal ) {\n\n      // Create stylesheet link\n      var link = doc.createElement( \"link\" ),\n          done, i;\n\n      timeout = timeout || yepnope['errorTimeout'];\n\n      cb = internal ? executeStack : ( cb || noop );\n\n      // Add attributes\n      link.href = href;\n      link.rel  = \"stylesheet\";\n      link.type = \"text/css\";\n\n      // Add our extra attributes to the link element\n      for ( i in attrs ) {\n        link.setAttribute( i, attrs[ i ] );\n      }\n\n      if ( ! err ) {\n        firstScript.parentNode.insertBefore( link, firstScript );\n        sTimeout(cb, 0);\n      }\n    }\n\n    function executeStack ( ) {\n      // shift an element off of the stack\n      var i   = execStack.shift();\n      started = 1;\n\n      // if a is truthy and the first item in the stack has an src\n      if ( i ) {\n        // if it's a script, inject it into the head with no type attribute\n        if ( i['t'] ) {\n          // Inject after a timeout so FF has time to be a jerk about it and\n          // not double load (ignore the cache)\n          sTimeout( function () {\n            (i['t'] == \"c\" ?  yepnope['injectCss'] : yepnope['injectJs'])( i['s'], 0, i['a'], i['x'], i['e'], 1 );\n          }, 0 );\n        }\n        // Otherwise, just call the function and potentially run the stack\n        else {\n          i();\n          executeStack();\n        }\n      }\n      else {\n        // just reset out of recursive mode\n        started = 0;\n      }\n    }\n\n    function preloadFile ( elem, url, type, splicePoint, dontExec, attrObj, timeout ) {\n\n      timeout = timeout || yepnope['errorTimeout'];\n\n      // Create appropriate element for browser and type\n      var preloadElem = doc.createElement( elem ),\n          done        = 0,\n          firstFlag   = 0,\n          stackObject = {\n            \"t\": type,     // type\n            \"s\": url,      // src\n          //r: 0,        // ready\n            \"e\": dontExec,// set to true if we don't want to reinject\n            \"a\": attrObj,\n            \"x\": timeout\n          };\n\n      // The first time (common-case)\n      if ( scriptCache[ url ] === 1 ) {\n        firstFlag = 1;\n        scriptCache[ url ] = [];\n      }\n\n      function onload ( first ) {\n        // If the script/css file is loaded\n        if ( ! done && isFileReady( preloadElem.readyState ) ) {\n\n          // Set done to prevent this function from being called twice.\n          stackObject['r'] = done = 1;\n\n          ! started && executeStack();\n\n          // Handle memory leak in IE\n          preloadElem.onload = preloadElem.onreadystatechange = null;\n          if ( first ) {\n            if ( elem != \"img\" ) {\n              sTimeout(function(){ insBeforeObj.removeChild( preloadElem ) }, 50);\n            }\n\n            for ( var i in scriptCache[ url ] ) {\n              if ( scriptCache[ url ].hasOwnProperty( i ) ) {\n                scriptCache[ url ][ i ].onload();\n              }\n            }\n          }\n        }\n      }\n\n\n      // Setting url to data for objects or src for img/scripts\n      if ( elem == \"object\" ) {\n        preloadElem.data = url;\n      } else {\n        preloadElem.src = url;\n\n        // Setting bogus script type to allow the script to be cached\n        preloadElem.type = elem;\n      }\n\n      // Don't let it show up visually\n      preloadElem.width = preloadElem.height = \"0\";\n\n      // Attach handlers for all browsers\n      preloadElem.onerror = preloadElem.onload = preloadElem.onreadystatechange = function(){\n        onload.call(this, firstFlag);\n      };\n      // inject the element into the stack depending on if it's\n      // in the middle of other scripts or not\n      execStack.splice( splicePoint, 0, stackObject );\n\n      // The only place these can't go is in the <head> element, since objects won't load in there\n      // so we have two options - insert before the head element (which is hard to assume) - or\n      // insertBefore technically takes null/undefined as a second param and it will insert the element into\n      // the parent last. We try the head, and it automatically falls back to undefined.\n      if ( elem != \"img\" ) {\n        // If it's the first time, or we've already loaded it all the way through\n        if ( firstFlag || scriptCache[ url ] === 2 ) {\n          insBeforeObj.insertBefore( preloadElem, isGeckoLTE18 ? null : firstScript );\n\n          // If something fails, and onerror doesn't fire,\n          // continue after a timeout.\n          sTimeout( onload, timeout );\n        }\n        else {\n          // instead of injecting, just hold on to it\n          scriptCache[ url ].push( preloadElem );\n        }\n      }\n    }\n\n    function load ( resource, type, dontExec, attrObj, timeout ) {\n      // If this method gets hit multiple times, we should flag\n      // that the execution of other threads should halt.\n      started = 0;\n\n      // We'll do 'j' for js and 'c' for css, yay for unreadable minification tactics\n      type = type || \"j\";\n      if ( isString( resource ) ) {\n        // if the resource passed in here is a string, preload the file\n        preloadFile( type == \"c\" ? strCssElem : strJsElem, resource, type, this['i']++, dontExec, attrObj, timeout );\n      } else {\n        // Otherwise it's a callback function and we can splice it into the stack to run\n        execStack.splice( this['i']++, 0, resource );\n        execStack.length == 1 && executeStack();\n      }\n\n      // OMG is this jQueries? For chaining...\n      return this;\n    }\n\n    // return the yepnope object with a fresh loader attached\n    function getYepnope () {\n      var y = yepnope;\n      y['loader'] = {\n        \"load\": load,\n        \"i\" : 0\n      };\n      return y;\n    }\n\n    /* End loader helper functions */\n    // Yepnope Function\n    yepnope = function ( needs ) {\n\n      var i,\n          need,\n          // start the chain as a plain instance\n          chain = window['yepnope']['loader'];\n\n      function satisfyPrefixes ( url ) {\n        // split all prefixes out\n        var parts   = url.split( \"!\" ),\n        gLen    = globalFilters.length,\n        origUrl = parts.pop(),\n        pLen    = parts.length,\n        res     = {\n          \"url\"      : origUrl,\n          // keep this one static for callback variable consistency\n          \"origUrl\"  : origUrl,\n          \"prefixes\" : parts\n        },\n        mFunc,\n        j,\n        prefix_parts;\n\n        // loop through prefixes\n        // if there are none, this automatically gets skipped\n        for ( j = 0; j < pLen; j++ ) {\n          prefix_parts = parts[ j ].split( '=' );\n          mFunc = prefixes[ prefix_parts.shift() ];\n          if ( mFunc ) {\n            res = mFunc( res, prefix_parts );\n          }\n        }\n\n        // Go through our global filters\n        for ( j = 0; j < gLen; j++ ) {\n          res = globalFilters[ j ]( res );\n        }\n\n        // return the final url\n        return res;\n      }\n\n      function getExtension ( url ) {\n          return url.split(\".\").pop().split(\"?\").shift();\n      }\n\n      function loadScriptOrStyle ( input, callback, chain, index, testResult ) {\n        // run through our set of prefixes\n        var resource     = satisfyPrefixes( input ),\n            autoCallback = resource['autoCallback'],\n            extension    = getExtension( resource['url'] );\n\n        // if no object is returned or the url is empty/0 just exit the load\n        if ( resource['bypass'] ) {\n          return;\n        }\n\n        // Determine callback, if any\n        if ( callback ) {\n          callback = isFunction( callback ) ?\n            callback :\n            callback[ input ] ||\n            callback[ index ] ||\n            callback[ ( input.split( \"/\" ).pop().split( \"?\" )[ 0 ] ) ];\n        }\n\n        // if someone is overriding all normal functionality\n        if ( resource['instead'] ) {\n          return resource['instead']( input, callback, chain, index, testResult );\n        }\n        else {\n          // Handle if we've already had this url and it's completed loaded already\n          if ( scriptCache[ resource['url'] ] ) {\n            // don't let this execute again\n            resource['noexec'] = true;\n          }\n          else {\n            scriptCache[ resource['url'] ] = 1;\n          }\n\n          // Throw this into the queue\n          chain.load( resource['url'], ( ( resource['forceCSS'] || ( ! resource['forceJS'] && \"css\" == getExtension( resource['url'] ) ) ) ) ? \"c\" : undef, resource['noexec'], resource['attrs'], resource['timeout'] );\n\n          // If we have a callback, we'll start the chain over\n          if ( isFunction( callback ) || isFunction( autoCallback ) ) {\n            // Call getJS with our current stack of things\n            chain['load']( function () {\n              // Hijack yepnope and restart index counter\n              getYepnope();\n              // Call our callbacks with this set of data\n              callback && callback( resource['origUrl'], testResult, index );\n              autoCallback && autoCallback( resource['origUrl'], testResult, index );\n\n              // Override this to just a boolean positive\n              scriptCache[ resource['url'] ] = 2;\n            } );\n          }\n        }\n      }\n\n      function loadFromTestObject ( testObject, chain ) {\n          var testResult = !! testObject['test'],\n              group      = testResult ? testObject['yep'] : testObject['nope'],\n              always     = testObject['load'] || testObject['both'],\n              callback   = testObject['callback'] || noop,\n              cbRef      = callback,\n              complete   = testObject['complete'] || noop,\n              needGroupSize,\n              callbackKey;\n\n          // Reusable function for dealing with the different input types\n          // NOTE:: relies on closures to keep 'chain' up to date, a bit confusing, but\n          // much smaller than the functional equivalent in this case.\n          function handleGroup ( needGroup, moreToCome ) {\n            if ( ! needGroup ) {\n              // Call the complete callback when there's nothing to load.\n              ! moreToCome && complete();\n            }\n            // If it's a string\n            else if ( isString( needGroup ) ) {\n              // if it's a string, it's the last\n              if ( !moreToCome ) {\n                // Add in the complete callback to go at the end\n                callback = function () {\n                  var args = [].slice.call( arguments );\n                  cbRef.apply( this, args );\n                  complete();\n                };\n              }\n              // Just load the script of style\n              loadScriptOrStyle( needGroup, callback, chain, 0, testResult );\n            }\n            // See if we have an object. Doesn't matter if it's an array or a key/val hash\n            // Note:: order cannot be guaranteed on an key value object with multiple elements\n            // since the for-in does not preserve order. Arrays _should_ go in order though.\n            else if ( isObject( needGroup ) ) {\n              // I hate this, but idk another way for objects.\n              needGroupSize = (function(){\n                var count = 0, i\n                for (i in needGroup ) {\n                  if ( needGroup.hasOwnProperty( i ) ) {\n                    count++;\n                  }\n                }\n                return count;\n              })();\n\n              for ( callbackKey in needGroup ) {\n                // Safari 2 does not have hasOwnProperty, but not worth the bytes for a shim\n                // patch if needed. Kangax has a nice shim for it. Or just remove the check\n                // and promise not to extend the object prototype.\n                if ( needGroup.hasOwnProperty( callbackKey ) ) {\n                  // Find the last added resource, and append to it's callback.\n                  if ( ! moreToCome && ! ( --needGroupSize ) ) {\n                    // If this is an object full of callbacks\n                    if ( ! isFunction( callback ) ) {\n                      // Add in the complete callback to go at the end\n                      callback[ callbackKey ] = (function( innerCb ) {\n                        return function () {\n                          var args = [].slice.call( arguments );\n                          innerCb && innerCb.apply( this, args );\n                          complete();\n                        };\n                      })( cbRef[ callbackKey ] );\n                    }\n                    // If this is just a single callback\n                    else {\n                      callback = function () {\n                        var args = [].slice.call( arguments );\n                        cbRef.apply( this, args );\n                        complete();\n                      };\n                    }\n                  }\n                  loadScriptOrStyle( needGroup[ callbackKey ], callback, chain, callbackKey, testResult );\n                }\n              }\n            }\n          }\n\n          // figure out what this group should do\n          handleGroup( group, !!always );\n\n          // Run our loader on the load/both group too\n          // the always stuff always loads second.\n          always && handleGroup( always );\n      }\n\n      // Someone just decides to load a single script or css file as a string\n      if ( isString( needs ) ) {\n        loadScriptOrStyle( needs, 0, chain, 0 );\n      }\n      // Normal case is likely an array of different types of loading options\n      else if ( isArray( needs ) ) {\n        // go through the list of needs\n        for( i = 0; i < needs.length; i++ ) {\n          need = needs[ i ];\n\n          // if it's a string, just load it\n          if ( isString( need ) ) {\n            loadScriptOrStyle( need, 0, chain, 0 );\n          }\n          // if it's an array, call our function recursively\n          else if ( isArray( need ) ) {\n            yepnope( need );\n          }\n          // if it's an object, use our modernizr logic to win\n          else if ( isObject( need ) ) {\n            loadFromTestObject( need, chain );\n          }\n        }\n      }\n      // Allow a single object to be passed in\n      else if ( isObject( needs ) ) {\n        loadFromTestObject( needs, chain );\n      }\n    };\n\n    // This publicly exposed function is for allowing\n    // you to add functionality based on prefixes on the\n    // string files you add. 'css!' is a builtin prefix\n    //\n    // The arguments are the prefix (not including the !) as a string\n    // and\n    // A callback function. This function is passed a resource object\n    // that can be manipulated and then returned. (like middleware. har.)\n    //\n    // Examples of this can be seen in the officially supported ie prefix\n    yepnope['addPrefix'] = function ( prefix, callback ) {\n      prefixes[ prefix ] = callback;\n    };\n\n    // A filter is a global function that every resource\n    // object that passes through yepnope will see. You can\n    // of course conditionally choose to modify the resource objects\n    // or just pass them along. The filter function takes the resource\n    // object and is expected to return one.\n    //\n    // The best example of a filter is the 'autoprotocol' officially\n    // supported filter\n    yepnope['addFilter'] = function ( filter ) {\n      globalFilters.push( filter );\n    };\n\n    // Default error timeout to 10sec - modify to alter\n    yepnope['errorTimeout'] = 1e4;\n\n    // Webreflection readystate hack\n    // safe for jQuery 1.4+ ( i.e. don't use yepnope with jQuery 1.3.2 )\n    // if the readyState is null and we have a listener\n    if ( doc.readyState == null && doc.addEventListener ) {\n      // set the ready state to loading\n      doc.readyState = \"loading\";\n      // call the listener\n      doc.addEventListener( \"DOMContentLoaded\", handler = function () {\n        // Remove the listener\n        doc.removeEventListener( \"DOMContentLoaded\", handler, 0 );\n        // Set it to ready\n        doc.readyState = \"complete\";\n      }, 0 );\n    }\n\n    // Attach loader &\n    // Leak it\n    window['yepnope'] = getYepnope();\n\n    // Exposing executeStack to better facilitate plugins\n    window['yepnope']['executeStack'] = executeStack;\n    window['yepnope']['injectJs'] = injectJs;\n    window['yepnope']['injectCss'] = injectCss;\n  }\n\n}());"],"names":["k","elementId","chain","i"],"mappings":"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"}